(()=>{function l(l,n){const e=new Array(l.length).fill(null);if(n<=1)return l.slice();let t=0;for(let o=0;o<l.length;o++){t+=Number(l[o]),o>=n&&(t-=Number(l[o-n])),o>=n-1&&(e[o]=t/n)}return e}function n(l,n){const e=new Array(l.length).fill(null),t=2/(n+1);let o=null;for(let r=0;r<l.length;r++){const u=Number(l[r]);0!==r?(o=u*t+o*(1-t),r>=n-1&&(e[r]=o)):o=u}return e}function e(l,n,e){if(n<e-1)return null;let t=0,o=0;for(let i=n-e+1;i<=n;i++){const n=Number(l[i]);t+=n,o+=n*n}const r=t/e,u=Math.max(0,o/e-r*r);return Math.sqrt(u)}function t(n){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const r=l(n,t),u=new Array(n.length).fill(null),i=new Array(n.length).fill(null);for(let l=0;l<n.length;l++){if(null==r[l])continue;const s=e(n,l,t);null!=s&&(u[l]=r[l]+o*s,i[l]=r[l]-o*s)}return{mid:r,upper:u,lower:i}}function o(l){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:14;const e=new Array(l.length).fill(null);if(0===l.length)return e;let t=0,o=0;for(let i=1;i<=n;i++){const n=l[i]-l[i-1];n>=0?t+=n:o-=n}let r=t/n,u=o/n;e[n]=0===u?100:100-100/(1+r/u);for(let i=n+1;i<l.length;i++){const t=l[i]-l[i-1];r=(r*(n-1)+Math.max(0,t))/n,u=(u*(n-1)+Math.max(0,-t))/n,e[i]=0===u?100:100-100/(1+r/u)}return e}function r(l){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:26,t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:9;const o=n(l,arguments.length>1&&void 0!==arguments[1]?arguments[1]:12),r=n(l,e),u=l.map((l,n)=>null!=o[n]&&null!=r[n]?o[n]-r[n]:null),i=n(u.map(l=>null==l?0:l),t),s=u.map((l,n)=>null!=l&&null!=i[n]?l-i[n]:null);return{macd:u,signal:i,hist:s}}function u(l,n,e,t){const o=new Array(l.length).fill(null);let r=0,u=0;for(let i=0;i<l.length;i++){const s=((Number(null===n||void 0===n?void 0:n[i])||0)+(Number(null===e||void 0===e?void 0:e[i])||0)+(Number(null===l||void 0===l?void 0:l[i])||0))/3,a=Number(null===t||void 0===t?void 0:t[i])||0;r+=s*a,u+=a,o[i]=u>0?r/u:null}return o}self.onmessage=function(e){const i=(null===e||void 0===e?void 0:e.data)||{};if("compute"===i.type){const d=performance.now();try{var s,a;const c=function(i,s){const{closes:a=[],highs:c=[],lows:d=[],volumes:m=[]}=s||{},f={};for(const g of i||[]){const i=String((null===g||void 0===g?void 0:g.name)||"").toLowerCase();try{"sma"===i?f["sma".concat(g.period)]=l(a,Number(g.period||20)):"ema"===i?f["ema".concat(g.period)]=n(a,Number(g.period||20)):"bb"===i||"bollinger"===i?f["bb".concat(g.period||20)]=t(a,Number(g.period||20),Number(g.mult||2)):"rsi"===i?f["rsi".concat(g.period||14)]=o(a,Number(g.period||14)):"macd"===i?f.macd=r(a,Number(g.fast||12),Number(g.slow||26),Number(g.signal||9)):"vwap"===i&&(f.vwap=u(a,c,d,m))}catch(e){f[i]=null}}return f}(null===(s=i.payload)||void 0===s?void 0:s.indicators,null===(a=i.payload)||void 0===a?void 0:a.series),m=performance.now()-d;self.postMessage({id:i.id,type:"result",payload:{output:c,ms:m}})}catch(c){self.postMessage({id:i.id,type:"error",error:String(c)})}}}})();
//# sourceMappingURL=943.27ba0b40.chunk.js.map