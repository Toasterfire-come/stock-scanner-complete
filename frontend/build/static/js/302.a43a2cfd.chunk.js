"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[302],{9302:(e,s,t)=>{t.r(s),t.d(s,{default:()=>g});var a=t(5043),l=t(5352),r=t(3390),c=t(1140),i=(t(5949),t(5732)),n=t(1555),d=t(7033),x=t(4537),m=t(7899),h=t(7010),o=t(516),j=t(3782),u=t(4919),N=t(830),v=t(6328),p=t(579);const g=()=>{var e,s,t;const[g,f]=(0,a.useState)(!0),[b,y]=(0,a.useState)(!1),[w,k]=(0,a.useState)(null),[_,S]=(0,a.useState)(null),[A,R]=(0,a.useState)(""),[Z,E]=(0,a.useState)(()=>{try{return localStorage.getItem("markets_active_tab")||"gainers"}catch(e){return"gainers"}});(0,a.useEffect)(()=>{const e=async()=>{R("");try{const[e,s]=await Promise.all([(0,N.p7)(),(0,N.D5)()]);e.success||(R(s=>s||e.error),v.oR.error(e.error)),s.success,k(e.data),S(s.data)}catch(e){const s="Failed to fetch market data";R(s),v.oR.error(s)}finally{f(!1)}};e();const s=setInterval(e,6e4);return()=>clearInterval(s)},[]);const F=async()=>{y(!0),R("");try{const e=await(0,N.p7)();e.success||v.oR.error(e.error),k(e.data)}catch(e){v.oR.error("Refresh failed")}finally{y(!1)}},W=e=>{const s=Number(e);return Number.isFinite(s)?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(s):"-"},L=(e,s)=>{const t=Number(e),a=Number(s);return Number.isFinite(t)&&Number.isFinite(a)&&0!==a?t/a*100:0},T=e=>{const s=Number(e);if(!Number.isFinite(s))return"-";return"".concat(s>0?"+":"").concat(s.toFixed(1),"%")},C=e=>{const s=Number(e);return Number.isFinite(s)?s>=1e6?"".concat((s/1e6).toFixed(1),"M"):s>=1e3?"".concat((s/1e3).toFixed(0),"K"):s.toLocaleString():"-"};return g?(0,p.jsx)("div",{className:"container mx-auto px-4 py-6 sm:py-8 max-w-7xl",children:(0,p.jsxs)("div",{className:"space-y-6",children:[(0,p.jsxs)("div",{className:"flex items-center justify-between",children:[(0,p.jsx)(n.E,{className:"h-8 w-48"}),(0,p.jsx)(n.E,{className:"h-10 w-32"})]}),(0,p.jsx)("div",{className:"grid md:grid-cols-4 gap-4 sm:gap-6",children:[1,2,3,4].map(e=>(0,p.jsx)(c.Zp,{children:(0,p.jsxs)(c.Wu,{className:"p-6",children:[(0,p.jsx)(n.E,{className:"h-8 w-16 mb-2"}),(0,p.jsx)(n.E,{className:"h-4 w-24 mb-2"}),(0,p.jsx)(n.E,{className:"h-4 w-16"})]})},e))}),(0,p.jsxs)("div",{className:"grid lg:grid-cols-2 gap-4 sm:gap-6",children:[(0,p.jsxs)(c.Zp,{children:[(0,p.jsx)(c.aR,{children:(0,p.jsx)(n.E,{className:"h-6 w-32"})}),(0,p.jsx)(c.Wu,{children:(0,p.jsx)("div",{className:"space-y-4",children:[1,2,3,4,5].map(e=>(0,p.jsxs)("div",{className:"flex items-center justify-between",children:[(0,p.jsx)(n.E,{className:"h-4 w-32"}),(0,p.jsx)(n.E,{className:"h-4 w-16"})]},e))})})]}),(0,p.jsxs)(c.Zp,{children:[(0,p.jsx)(c.aR,{children:(0,p.jsx)(n.E,{className:"h-6 w-32"})}),(0,p.jsx)(c.Wu,{children:(0,p.jsx)("div",{className:"space-y-4",children:[1,2,3,4,5].map(e=>(0,p.jsxs)("div",{className:"flex items-center justify-between",children:[(0,p.jsx)(n.E,{className:"h-4 w-32"}),(0,p.jsx)(n.E,{className:"h-4 w-16"})]},e))})})]})]})]})}):(0,p.jsx)("div",{className:"container mx-auto px-4 py-6 sm:py-8 max-w-7xl",children:(0,p.jsxs)("div",{className:"space-y-6",children:[(0,p.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Market Overview"}),(0,p.jsx)("p",{className:"text-gray-600 mt-2",children:"Real-time market data and trending stocks"})]}),(0,p.jsxs)(r.$,{onClick:F,disabled:b,variant:"outline",children:[(0,p.jsx)(o.A,{className:"h-4 w-4 mr-2 ".concat(b?"animate-spin":"")}),b?"Refreshing...":"Refresh"]})]}),A&&(0,p.jsx)(c.Zp,{className:"border-l-4 border-l-yellow-500 bg-yellow-50/50",children:(0,p.jsxs)(c.Wu,{className:"p-4 text-yellow-800 flex items-center justify-between",children:[(0,p.jsx)("span",{children:A}),(0,p.jsx)(r.$,{size:"sm",variant:"outline",onClick:F,children:"Retry"})]})}),w&&(0,p.jsxs)("div",{className:"grid md:grid-cols-3 gap-4 sm:gap-6",children:[(0,p.jsx)(c.Zp,{children:(0,p.jsx)(c.Wu,{className:"p-6",children:(0,p.jsxs)("div",{className:"flex items-center justify-between",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Stocks"}),(0,p.jsx)("p",{className:"text-2xl font-bold",children:Number(w.market_overview.total_stocks||0).toLocaleString()})]}),(0,p.jsx)(d.A,{className:"h-8 w-8 text-blue-500"})]})})}),(0,p.jsx)(c.Zp,{children:(0,p.jsx)(c.Wu,{className:"p-6",children:(0,p.jsxs)("div",{className:"flex items-center justify-between",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Gainers"}),(0,p.jsxs)("div",{className:"flex items-center",children:[(0,p.jsx)("p",{className:"text-2xl font-bold text-green-600",children:Number(w.market_overview.gainers||0).toLocaleString()}),(0,p.jsx)(h.A,{className:"h-5 w-5 text-green-500 ml-2"})]}),(0,p.jsxs)("p",{className:"text-xs text-green-600",children:[L(w.market_overview.gainers,w.market_overview.total_stocks).toFixed(1),"%"]})]}),(0,p.jsx)(u.A,{className:"h-8 w-8 text-green-500"})]})})}),(0,p.jsx)(c.Zp,{children:(0,p.jsx)(c.Wu,{className:"p-6",children:(0,p.jsxs)("div",{className:"flex items-center justify-between",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Losers"}),(0,p.jsxs)("div",{className:"flex items-center",children:[(0,p.jsx)("p",{className:"text-2xl font-bold text-red-600",children:Number(w.market_overview.losers||0).toLocaleString()}),(0,p.jsx)(m.A,{className:"h-5 w-5 text-red-500 ml-2"})]}),(0,p.jsxs)("p",{className:"text-xs text-red-600",children:[L(w.market_overview.losers,w.market_overview.total_stocks).toFixed(1),"%"]})]}),(0,p.jsx)(j.A,{className:"h-8 w-8 text-red-500"})]})})})]}),(0,p.jsxs)(i.tU,{value:Z,onValueChange:e=>{E(e);try{localStorage.setItem("markets_active_tab",e)}catch(s){}},className:"w-full",children:[(0,p.jsxs)(i.j7,{className:"grid w-full grid-cols-3",children:[(0,p.jsx)(i.Xi,{value:"gainers",children:"Top Gainers"}),(0,p.jsx)(i.Xi,{value:"losers",children:"Top Losers"}),(0,p.jsx)(i.Xi,{value:"active",children:"Most Active"})]}),(0,p.jsxs)("div",{className:"mt-4 sm:mt-6",children:[(0,p.jsx)(i.av,{value:"gainers",children:(0,p.jsxs)(c.Zp,{children:[(0,p.jsxs)(c.aR,{children:[(0,p.jsxs)(c.ZB,{className:"flex items-center",children:[(0,p.jsx)(u.A,{className:"h-5 w-5 mr-2 text-green-500"})," Top Gainers"]}),(0,p.jsx)(c.BT,{children:"Stocks with the highest percentage gains today"})]}),(0,p.jsx)(c.Wu,{children:null!==w&&void 0!==w&&null!==(e=w.top_gainers)&&void 0!==e&&e.length?(0,p.jsx)("div",{className:"space-y-4",children:w.top_gainers.slice(0,10).map((e,s)=>(0,p.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50",children:[(0,p.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,p.jsx)("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:(0,p.jsx)("span",{className:"text-sm font-bold text-green-600",children:s+1})}),(0,p.jsxs)("div",{children:[(0,p.jsx)(l.N_,{to:"/app/stocks/".concat(e.ticker),className:"font-semibold text-blue-600 hover:underline",children:e.ticker}),(0,p.jsx)("p",{className:"text-sm text-gray-600",children:e.name})]})]}),(0,p.jsxs)("div",{className:"text-right",children:[(0,p.jsx)("div",{className:"font-semibold",children:W(e.current_price)}),(0,p.jsxs)("div",{className:"text-green-600 font-medium flex items-center",children:[(0,p.jsx)(u.A,{className:"h-3 w-3 mr-1"})," ",T(e.change_percent)]})]}),(0,p.jsxs)("div",{className:"text-right text-sm text-gray-600",children:[(0,p.jsx)("div",{children:C(e.volume)}),(0,p.jsx)("div",{children:"Volume"})]})]},s))}):(0,p.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,p.jsx)(u.A,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),(0,p.jsx)("p",{children:"No gainer data available"}),(0,p.jsx)(r.$,{variant:"outline",size:"sm",className:"mt-3",onClick:F,children:"Retry"})]})})]})}),(0,p.jsx)(i.av,{value:"losers",children:(0,p.jsxs)(c.Zp,{children:[(0,p.jsxs)(c.aR,{children:[(0,p.jsxs)(c.ZB,{className:"flex items-center",children:[(0,p.jsx)(j.A,{className:"h-5 w-5 mr-2 text-red-500"})," Top Losers"]}),(0,p.jsx)(c.BT,{children:"Stocks with the highest percentage losses today"})]}),(0,p.jsx)(c.Wu,{children:null!==w&&void 0!==w&&null!==(s=w.top_losers)&&void 0!==s&&s.length?(0,p.jsx)("div",{className:"space-y-4",children:w.top_losers.slice(0,10).map((e,s)=>(0,p.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50",children:[(0,p.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,p.jsx)("div",{className:"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center",children:(0,p.jsx)("span",{className:"text-sm font-bold text-red-600",children:s+1})}),(0,p.jsxs)("div",{children:[(0,p.jsx)(l.N_,{to:"/app/stocks/".concat(e.ticker),className:"font-semibold text-blue-600 hover:underline",children:e.ticker}),(0,p.jsx)("p",{className:"text-sm text-gray-600",children:e.name})]})]}),(0,p.jsxs)("div",{className:"text-right",children:[(0,p.jsx)("div",{className:"font-semibold",children:W(e.current_price)}),(0,p.jsxs)("div",{className:"text-red-600 font-medium flex items-center",children:[(0,p.jsx)(j.A,{className:"h-3 w-3 mr-1"})," ",T(e.change_percent)]})]}),(0,p.jsxs)("div",{className:"text-right text-sm text-gray-600",children:[(0,p.jsx)("div",{children:C(e.volume)}),(0,p.jsx)("div",{children:"Volume"})]})]},s))}):(0,p.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,p.jsx)(j.A,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),(0,p.jsx)("p",{children:"No loser data available"}),(0,p.jsx)(r.$,{variant:"outline",size:"sm",className:"mt-3",onClick:F,children:"Retry"})]})})]})}),(0,p.jsx)(i.av,{value:"active",children:(0,p.jsxs)(c.Zp,{children:[(0,p.jsxs)(c.aR,{children:[(0,p.jsxs)(c.ZB,{className:"flex items-center",children:[(0,p.jsx)(x.A,{className:"h-5 w-5 mr-2 text-blue-500"})," Most Active"]}),(0,p.jsx)(c.BT,{children:"Stocks with the highest trading volume today"})]}),(0,p.jsx)(c.Wu,{children:null!==w&&void 0!==w&&null!==(t=w.most_active)&&void 0!==t&&t.length?(0,p.jsx)("div",{className:"space-y-4",children:w.most_active.slice(0,10).map((e,s)=>{var t,a,r;return(0,p.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50",children:[(0,p.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,p.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:(0,p.jsx)("span",{className:"text-sm font-bold text-blue-600",children:s+1})}),(0,p.jsxs)("div",{children:[(0,p.jsx)(l.N_,{to:"/app/stocks/".concat(e.ticker),className:"font-semibold text-blue-600 hover:underline",children:e.ticker}),(0,p.jsx)("p",{className:"text-sm text-gray-600",children:e.name})]})]}),(0,p.jsxs)("div",{className:"text-right",children:[(0,p.jsx)("div",{className:"font-semibold",children:W(e.current_price)}),(0,p.jsxs)("div",{className:"".concat((null!==(t=e.change_percent)&&void 0!==t?t:0)>=0?"text-green-600":"text-red-600"," font-medium flex items-center"),children:[(null!==(a=e.change_percent)&&void 0!==a?a:0)>=0?(0,p.jsx)(u.A,{className:"h-3 w-3 mr-1"}):(0,p.jsx)(j.A,{className:"h-3 w-3 mr-1"}),T(null!==(r=e.change_percent)&&void 0!==r?r:0)]})]}),(0,p.jsxs)("div",{className:"text-right text-sm text-gray-600",children:[(0,p.jsx)("div",{className:"font-bold",children:C(e.volume)}),(0,p.jsx)("div",{children:"Volume"})]})]},s)})}):(0,p.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,p.jsx)(x.A,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),(0,p.jsx)("p",{children:"No volume data available"}),(0,p.jsx)(r.$,{variant:"outline",size:"sm",className:"mt-3",onClick:F,children:"Retry"})]})})]})})]})]}),(0,p.jsx)("div",{className:"text-center text-sm text-gray-500",children:(0,p.jsxs)("p",{children:["Market data may be delayed. Last refreshed: ",(new Date).toLocaleTimeString()]})})]})})}}}]);
//# sourceMappingURL=302.a43a2cfd.chunk.js.map