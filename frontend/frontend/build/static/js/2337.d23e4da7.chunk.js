/*! For license information please see 2337.d23e4da7.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[2337],{1455:(e,a,s)=>{s.d(a,{bq:()=>v,eb:()=>k,gC:()=>A,l6:()=>N,yv:()=>j});var t=s(2555),l=s(3986),r=s(9950),n=s(2766),i=s(6311),c=s(7453),d=s(7684),o=s(90),m=s(4414);const x=["className","children"],u=["className"],h=["className"],p=["className","children","position"],f=["className"],g=["className","children"],y=["className"],N=n.bL,j=(n.YJ,n.WT),v=r.forwardRef((e,a)=>{let{className:s,children:r}=e,i=(0,l.A)(e,x);return(0,m.jsxs)(n.l9,(0,t.A)((0,t.A)({ref:a,className:(0,o.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s)},i),{},{children:[r,(0,m.jsx)(n.In,{asChild:!0,children:(0,m.jsx)(c.A,{className:"h-4 w-4 opacity-50"})})]}))});v.displayName=n.l9.displayName;const w=r.forwardRef((e,a)=>{let{className:s}=e,r=(0,l.A)(e,u);return(0,m.jsx)(n.PP,(0,t.A)((0,t.A)({ref:a,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",s)},r),{},{children:(0,m.jsx)(d.A,{className:"h-4 w-4"})}))});w.displayName=n.PP.displayName;const b=r.forwardRef((e,a)=>{let{className:s}=e,r=(0,l.A)(e,h);return(0,m.jsx)(n.wn,(0,t.A)((0,t.A)({ref:a,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",s)},r),{},{children:(0,m.jsx)(c.A,{className:"h-4 w-4"})}))});b.displayName=n.wn.displayName;const A=r.forwardRef((e,a)=>{let{className:s,children:r,position:i="popper"}=e,c=(0,l.A)(e,p);return(0,m.jsx)(n.ZL,{children:(0,m.jsxs)(n.UC,(0,t.A)((0,t.A)({ref:a,className:(0,o.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:i},c),{},{children:[(0,m.jsx)(w,{}),(0,m.jsx)(n.LM,{className:(0,o.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,m.jsx)(b,{})]}))})});A.displayName=n.UC.displayName;r.forwardRef((e,a)=>{let{className:s}=e,r=(0,l.A)(e,f);return(0,m.jsx)(n.JU,(0,t.A)({ref:a,className:(0,o.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",s)},r))}).displayName=n.JU.displayName;const k=r.forwardRef((e,a)=>{let{className:s,children:r}=e,c=(0,l.A)(e,g);return(0,m.jsxs)(n.q7,(0,t.A)((0,t.A)({ref:a,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s)},c),{},{children:[(0,m.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,m.jsx)(n.VF,{children:(0,m.jsx)(i.A,{className:"h-4 w-4"})})}),(0,m.jsx)(n.p4,{children:r})]}))});k.displayName=n.q7.displayName;r.forwardRef((e,a)=>{let{className:s}=e,r=(0,l.A)(e,y);return(0,m.jsx)(n.wv,(0,t.A)({ref:a,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",s)},r))}).displayName=n.wv.displayName},2337:(e,a,s)=>{s.r(a),s.d(a,{default:()=>f});var t=s(9950),l=s(4245),r=s(9630),n=s(1111),i=s(4779),c=s(1455),d=s(7737),o=s(4022),m=s(6987),x=s(3147),u=s(2033),h=s(5508),p=s(4414);const f=()=>{const[e,a]=(0,t.useState)([]),[s,f]=(0,t.useState)([]),[g,y]=(0,t.useState)(""),[N,j]=(0,t.useState)("all"),[v,w]=(0,t.useState)(!0),[b,A]=(0,t.useState)("");(0,t.useEffect)(()=>{k()},[]),(0,t.useEffect)(()=>{C()},[e,g,N]);const k=async()=>{w(!0),A("");try{var e;const s=await(0,h.gR)({limit:20}),t=(null===s||void 0===s||null===(e=s.data)||void 0===e?void 0:e.news_items)||(null===s||void 0===s?void 0:s.data)||(null===s||void 0===s?void 0:s.news)||[];a(Array.isArray(t)?t:[])}catch(s){a([]),A("Failed to fetch news"),u.oR.error("Failed to fetch news")}finally{w(!1)}},C=()=>{let a=[...e];if(g){const e=g.toLowerCase();a=a.filter(a=>(a.title||"").toLowerCase().includes(e)||(a.summary||"").toLowerCase().includes(e)||(a.mentioned_tickers||a.tickers||[]).join(",").toLowerCase().includes(e))}"all"!==N&&(a=a.filter(e=>(e.category||"").toLowerCase()===N)),f(a)},R=e=>{switch((e||"").toLowerCase()){case"positive":return"bg-green-100 text-green-800";case"negative":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},L=e=>{switch((e||"").toLowerCase()){case"earnings":return"bg-blue-100 text-blue-800";case"markets":return"bg-purple-100 text-purple-800";case"analysis":return"bg-orange-100 text-orange-800";case"breaking":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},M=e=>{if(!e)return"";const a=new Date,s=new Date(e),t=Math.floor((a-s)/36e5);if(t<1)return"Just now";if(1===t)return"1 hour ago";if(t<24)return"".concat(t," hours ago");const l=Math.floor(t/24);return 1===l?"1 day ago":"".concat(l," days ago")};return v?(0,p.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,p.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,p.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),(0,p.jsx)("div",{className:"h-16 bg-gray-200 rounded"}),[1,2,3].map(e=>(0,p.jsx)("div",{className:"h-32 bg-gray-200 rounded"},e))]})}):(0,p.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,p.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"News Feed"}),(0,p.jsx)("p",{className:"text-gray-600 mt-2",children:"Stay updated with the latest market news and analysis"})]}),(0,p.jsxs)(n.$,{onClick:k,variant:"outline",children:[(0,p.jsx)(m.A,{className:"h-4 w-4 mr-2"}),"Refresh"]})]}),(0,p.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4 mb-6",children:[(0,p.jsxs)("div",{className:"relative flex-1",children:[(0,p.jsx)(x.A,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,p.jsx)(i.p,{placeholder:"Search news, tickers, or topics...",value:g,onChange:e=>y(e.target.value),className:"pl-10"})]}),(0,p.jsxs)(c.l6,{value:N,onValueChange:j,children:[(0,p.jsx)(c.bq,{className:"w-full lg:w-48",children:(0,p.jsx)(c.yv,{placeholder:"Filter category"})}),(0,p.jsx)(c.gC,{children:[{value:"all",label:"All News"},{value:"earnings",label:"Earnings"},{value:"markets",label:"Markets"},{value:"analysis",label:"Analysis"},{value:"breaking",label:"Breaking News"}].map(e=>(0,p.jsx)(c.eb,{value:e.value,children:e.label},e.value))})]})]}),b&&(0,p.jsx)(l.Zp,{className:"mb-4",children:(0,p.jsx)(l.Wu,{className:"text-sm text-red-600 py-3",children:b})}),(0,p.jsxs)("div",{className:"grid gap-6",children:[s.map(e=>{var a;return(0,p.jsxs)(l.Zp,{className:"hover:shadow-lg transition-shadow",children:[(0,p.jsx)(l.aR,{children:(0,p.jsx)("div",{className:"flex items-start justify-between",children:(0,p.jsxs)("div",{className:"flex-1",children:[(0,p.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[e.category&&(0,p.jsx)(r.E,{className:L(e.category),children:e.category}),e.sentiment&&(0,p.jsx)(r.E,{className:R(e.sentiment),children:e.sentiment}),(null===(a=e.mentioned_tickers||e.tickers)||void 0===a?void 0:a.length)>0&&(0,p.jsx)("div",{className:"flex items-center gap-1",children:(e.mentioned_tickers||e.tickers).map(e=>(0,p.jsx)(r.E,{variant:"outline",className:"text-xs",children:e},e))})]}),(0,p.jsx)(l.ZB,{className:"text-xl leading-tight",children:e.title})]})})}),(0,p.jsxs)(l.Wu,{children:[e.summary&&(0,p.jsx)("p",{className:"text-gray-600 mb-4 leading-relaxed",children:e.summary}),(0,p.jsxs)("div",{className:"flex items-center justify-between",children:[(0,p.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[e.source&&(0,p.jsx)("span",{className:"font-medium",children:e.source}),(0,p.jsxs)("div",{className:"flex items-center gap-1",children:[(0,p.jsx)(d.A,{className:"h-3 w-3"}),M(e.published_at||e.publishedAt)]})]}),(0,p.jsxs)("div",{className:"flex items-center gap-2",children:[(0,p.jsx)(n.$,{size:"sm",variant:"outline",onClick:()=>(async e=>{try{await(0,h.Hy)(e),u.oR.success("Article marked as read")}catch(a){u.oR.error("Failed to mark as read")}})(e.id),children:"Mark Read"}),e.url&&(0,p.jsx)(n.$,{size:"sm",onClick:()=>(async(e,a)=>{try{await(0,h.oR)(e)}catch(s){}finally{a&&window.open(a,"_blank","noopener,noreferrer")}})(e.id,e.url),children:(0,p.jsxs)("span",{className:"flex items-center gap-1",children:[(0,p.jsx)(o.A,{className:"h-3 w-3"})," Read More"]})})]})]})]})]},e.id)}),!s.length&&!v&&(0,p.jsx)(l.Zp,{children:(0,p.jsxs)(l.Wu,{className:"text-center py-12",children:[(0,p.jsx)("div",{className:"text-gray-500 mb-4",children:"No news found"}),(0,p.jsx)(n.$,{onClick:()=>{y(""),j("all"),k()},variant:"outline",children:"Clear Filters & Reload"})]})})]}),(0,p.jsx)("div",{className:"mt-8 text-center",children:(0,p.jsx)(n.$,{variant:"outline",onClick:k,disabled:v,children:"Load Latest Articles"})})]})}},4022:(e,a,s)=>{s.d(a,{A:()=>t});const t=(0,s(6230).A)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},6987:(e,a,s)=>{s.d(a,{A:()=>t});const t=(0,s(6230).A)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])}}]);