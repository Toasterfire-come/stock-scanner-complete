/*! For license information please see screeners.70a0ee58.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[4658,5025,6950,7758,9445],{621:(e,s,a)=>{a.d(s,{A:()=>r});const r=(0,a(6230).A)("play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]])},1455:(e,s,a)=>{a.d(s,{bq:()=>f,eb:()=>k,gC:()=>w,l6:()=>g,yv:()=>N});var r=a(2555),n=a(3986),t=a(9950),i=a(2766),c=a(6311),l=a(7453),d=a(7684),o=a(90),m=a(4414);const x=["className","children"],h=["className"],p=["className"],u=["className","children","position"],j=["className"],v=["className","children"],y=["className"],g=i.bL,N=(i.YJ,i.WT),f=t.forwardRef((e,s)=>{let{className:a,children:t}=e,c=(0,n.A)(e,x);return(0,m.jsxs)(i.l9,(0,r.A)((0,r.A)({ref:s,className:(0,o.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a)},c),{},{children:[t,(0,m.jsx)(i.In,{asChild:!0,children:(0,m.jsx)(l.A,{className:"h-4 w-4 opacity-50"})})]}))});f.displayName=i.l9.displayName;const b=t.forwardRef((e,s)=>{let{className:a}=e,t=(0,n.A)(e,h);return(0,m.jsx)(i.PP,(0,r.A)((0,r.A)({ref:s,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",a)},t),{},{children:(0,m.jsx)(d.A,{className:"h-4 w-4"})}))});b.displayName=i.PP.displayName;const A=t.forwardRef((e,s)=>{let{className:a}=e,t=(0,n.A)(e,p);return(0,m.jsx)(i.wn,(0,r.A)((0,r.A)({ref:s,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",a)},t),{},{children:(0,m.jsx)(l.A,{className:"h-4 w-4"})}))});A.displayName=i.wn.displayName;const w=t.forwardRef((e,s)=>{let{className:a,children:t,position:c="popper"}=e,l=(0,n.A)(e,u);return(0,m.jsx)(i.ZL,{children:(0,m.jsxs)(i.UC,(0,r.A)((0,r.A)({ref:s,className:(0,o.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===c&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:c},l),{},{children:[(0,m.jsx)(b,{}),(0,m.jsx)(i.LM,{className:(0,o.cn)("p-1","popper"===c&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),(0,m.jsx)(A,{})]}))})});w.displayName=i.UC.displayName;t.forwardRef((e,s)=>{let{className:a}=e,t=(0,n.A)(e,j);return(0,m.jsx)(i.JU,(0,r.A)({ref:s,className:(0,o.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a)},t))}).displayName=i.JU.displayName;const k=t.forwardRef((e,s)=>{let{className:a,children:t}=e,l=(0,n.A)(e,v);return(0,m.jsxs)(i.q7,(0,r.A)((0,r.A)({ref:s,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a)},l),{},{children:[(0,m.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,m.jsx)(i.VF,{children:(0,m.jsx)(c.A,{className:"h-4 w-4"})})}),(0,m.jsx)(i.p4,{children:t})]}))});k.displayName=i.q7.displayName;t.forwardRef((e,s)=>{let{className:a}=e,t=(0,n.A)(e,y);return(0,m.jsx)(i.wv,(0,r.A)({ref:s,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",a)},t))}).displayName=i.wv.displayName},1742:(e,s,a)=>{a.d(s,{A:()=>r});const r=(0,a(6230).A)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},2607:(e,s,a)=>{a.d(s,{A:()=>r});const r=(0,a(6230).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},3787:(e,s,a)=>{a.d(s,{A0:()=>v,BF:()=>y,Hj:()=>g,XI:()=>j,nA:()=>f,nd:()=>N});var r=a(2555),n=a(3986),t=a(9950),i=a(90),c=a(4414);const l=["className"],d=["className"],o=["className"],m=["className"],x=["className"],h=["className"],p=["className"],u=["className"],j=t.forwardRef((e,s)=>{let{className:a}=e,t=(0,n.A)(e,l);return(0,c.jsx)("div",{className:"relative w-full overflow-auto",children:(0,c.jsx)("table",(0,r.A)({ref:s,className:(0,i.cn)("w-full caption-bottom text-sm",a)},t))})});j.displayName="Table";const v=t.forwardRef((e,s)=>{let{className:a}=e,t=(0,n.A)(e,d);return(0,c.jsx)("thead",(0,r.A)({ref:s,className:(0,i.cn)("[&_tr]:border-b",a)},t))});v.displayName="TableHeader";const y=t.forwardRef((e,s)=>{let{className:a}=e,t=(0,n.A)(e,o);return(0,c.jsx)("tbody",(0,r.A)({ref:s,className:(0,i.cn)("[&_tr:last-child]:border-0",a)},t))});y.displayName="TableBody";t.forwardRef((e,s)=>{let{className:a}=e,t=(0,n.A)(e,m);return(0,c.jsx)("tfoot",(0,r.A)({ref:s,className:(0,i.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a)},t))}).displayName="TableFooter";const g=t.forwardRef((e,s)=>{let{className:a}=e,t=(0,n.A)(e,x);return(0,c.jsx)("tr",(0,r.A)({ref:s,className:(0,i.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a)},t))});g.displayName="TableRow";const N=t.forwardRef((e,s)=>{let{className:a}=e,t=(0,n.A)(e,h);return(0,c.jsx)("th",(0,r.A)({ref:s,className:(0,i.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a)},t))});N.displayName="TableHead";const f=t.forwardRef((e,s)=>{let{className:a}=e,t=(0,n.A)(e,p);return(0,c.jsx)("td",(0,r.A)({ref:s,className:(0,i.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",a)},t))});f.displayName="TableCell";t.forwardRef((e,s)=>{let{className:a}=e,t=(0,n.A)(e,u);return(0,c.jsx)("caption",(0,r.A)({ref:s,className:(0,i.cn)("mt-4 text-sm text-muted-foreground",a)},t))}).displayName="TableCaption"},4658:(e,s,a)=>{a.r(s),a.d(s,{default:()=>v});var r=a(9950),n=a(827),t=a(1111),i=a(4245),c=a(9630),l=a(3787),d=a(7255),o=a(7838),m=a(6987),x=a(5391),h=a(6890),p=a(2033),u=a(5508),j=a(4414);const v=()=>{var e,s;const{id:a}=(0,n.g)(),[v,y]=(0,r.useState)([]),[g,N]=(0,r.useState)(null),[f,b]=(0,r.useState)(!0),[A,w]=(0,r.useState)(!1);(0,r.useEffect)(()=>{k()},[a]);const k=async()=>{b(!0);try{const e=window.localStorage.getItem("screener:lastParams"),s=e?JSON.parse(e):{},r=await(0,u.qm)(s),n=Array.isArray(null===r||void 0===r?void 0:r.results)?r.results:Array.isArray(r)?r:[];N({name:"adhoc"===a?"Ad-hoc Screener":"Screener ".concat(a),description:"Results from backend filter",lastRun:(new Date).toISOString(),criteria:Object.keys(s||{}).map(e=>"".concat(e,"=").concat(s[e]))}),y(n.map(e=>({ticker:e.ticker||e.symbol,company_name:e.company_name||e.name||"-",current_price:Number(e.current_price||e.price||0),change_percent:Number(e.change_percent||e.change||0),volume:Number(e.volume||0),market_cap:Number(e.market_cap||0),exchange:e.exchange||"-"})))}catch(e){p.oR.error("Failed to fetch results"),y([])}finally{b(!1)}};return f?(0,j.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,j.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,j.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),(0,j.jsx)("div",{className:"h-32 bg-gray-200 rounded"}),(0,j.jsx)("div",{className:"h-64 bg-gray-200 rounded"})]})}):(0,j.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,j.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Screener Results"}),(0,j.jsx)("p",{className:"text-gray-600 mt-2",children:null===g||void 0===g?void 0:g.name})]}),(0,j.jsxs)("div",{className:"flex gap-2",children:[(0,j.jsxs)(t.$,{variant:"outline",onClick:()=>{const e=["Ticker,Company,Price,Change %,Volume,Market Cap,Exchange",...v.map(e=>"".concat(e.ticker,",").concat(e.company_name,",").concat(e.current_price,",").concat(e.change_percent,",").concat(e.volume,",").concat(e.market_cap,",").concat(e.exchange))].join("\n"),s=new Blob([e],{type:"text/csv"}),r=window.URL.createObjectURL(s),n=document.createElement("a");n.href=r,n.download="screener-results-".concat(a,".csv"),n.click(),window.URL.revokeObjectURL(r),p.oR.success("Results exported to CSV")},children:[(0,j.jsx)(d.A,{className:"h-4 w-4 mr-2"}),"Export CSV"]}),(0,j.jsxs)(t.$,{onClick:async()=>{w(!0);try{await k(),p.oR.success("Results refreshed")}catch(e){p.oR.error("Failed to refresh results")}finally{w(!1)}},disabled:A,children:[(0,j.jsx)(m.A,{className:"h-4 w-4 mr-2 ".concat(A?"animate-spin":"")}),"Refresh"]})]})]}),(0,j.jsxs)("div",{className:"grid gap-6",children:[(0,j.jsxs)(i.Zp,{children:[(0,j.jsx)(i.aR,{children:(0,j.jsx)(i.ZB,{children:"Screener Information"})}),(0,j.jsxs)(i.Wu,{children:[(0,j.jsxs)("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{className:"text-sm text-gray-500",children:"Total Results"}),(0,j.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:v.length})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{className:"text-sm text-gray-500",children:"Last Updated"}),(0,j.jsx)("div",{className:"text-sm font-medium",children:null!==g&&void 0!==g&&g.lastRun?new Date(g.lastRun).toLocaleString():"Never"})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{className:"text-sm text-gray-500",children:"Criteria Count"}),(0,j.jsx)("div",{className:"text-2xl font-bold",children:(null===g||void 0===g||null===(e=g.criteria)||void 0===e?void 0:e.length)||0})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{className:"text-sm text-gray-500",children:"Avg. Price Change"}),(0,j.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:["+",(v.reduce((e,s)=>e+s.change_percent,0)/v.length).toFixed(2),"%"]})]})]}),(0,j.jsxs)("div",{className:"mt-4",children:[(0,j.jsx)("div",{className:"text-sm text-gray-500 mb-2",children:"Active Criteria:"}),(0,j.jsx)("div",{className:"flex flex-wrap gap-2",children:null===g||void 0===g||null===(s=g.criteria)||void 0===s?void 0:s.map((e,s)=>(0,j.jsx)(c.E,{variant:"outline",children:e},s))})]})]})]}),(0,j.jsxs)(i.Zp,{children:[(0,j.jsx)(i.aR,{children:(0,j.jsx)(i.ZB,{children:"Matching Stocks"})}),(0,j.jsxs)(i.Wu,{children:[(0,j.jsx)("div",{className:"overflow-x-auto",children:(0,j.jsxs)(l.XI,{children:[(0,j.jsx)(l.A0,{children:(0,j.jsxs)(l.Hj,{children:[(0,j.jsx)(l.nd,{children:"Symbol"}),(0,j.jsx)(l.nd,{children:"Company"}),(0,j.jsx)(l.nd,{children:"Price"}),(0,j.jsx)(l.nd,{children:"Change"}),(0,j.jsx)(l.nd,{children:"Volume"}),(0,j.jsx)(l.nd,{children:"Market Cap"}),(0,j.jsx)(l.nd,{children:"Exchange"}),(0,j.jsx)(l.nd,{children:"Actions"})]})}),(0,j.jsx)(l.BF,{children:v.map(e=>(0,j.jsxs)(l.Hj,{children:[(0,j.jsx)(l.nA,{children:(0,j.jsx)(n.N_,{to:"/app/stocks/".concat(e.ticker),className:"font-semibold text-blue-600 hover:underline",children:e.ticker})}),(0,j.jsx)(l.nA,{className:"font-medium",children:e.company_name}),(0,j.jsxs)(l.nA,{children:["$",e.current_price.toFixed(2)]}),(0,j.jsx)(l.nA,{children:(0,j.jsxs)("div",{className:"flex items-center ".concat(e.change_percent>=0?"text-green-600":"text-red-600"),children:[e.change_percent>=0?(0,j.jsx)(h.A,{className:"h-4 w-4 mr-1"}):(0,j.jsx)(x.A,{className:"h-4 w-4 mr-1"}),e.change_percent>=0?"+":"",e.change_percent.toFixed(2),"%"]})}),(0,j.jsx)(l.nA,{children:Number(e.volume||0).toLocaleString()}),(0,j.jsxs)(l.nA,{children:["$",(e.market_cap/1e9).toFixed(1),"B"]}),(0,j.jsx)(l.nA,{children:e.exchange}),(0,j.jsx)(l.nA,{children:(0,j.jsx)(t.$,{size:"sm",variant:"outline",asChild:!0,children:(0,j.jsxs)(n.N_,{to:"/app/stocks/".concat(e.ticker),children:[(0,j.jsx)(o.A,{className:"h-4 w-4 mr-1"}),"View"]})})})]},e.ticker))})]})}),0===v.length&&(0,j.jsxs)("div",{className:"text-center py-12",children:[(0,j.jsx)("div",{className:"text-gray-500 mb-4",children:"No stocks match your criteria"}),(0,j.jsx)(t.$,{asChild:!0,children:(0,j.jsx)(n.N_,{to:"/app/screeners/".concat(a,"/edit"),children:"Adjust Criteria"})})]})]})]})]})]})}},4814:(e,s,a)=>{a.d(s,{A:()=>r});const r=(0,a(6230).A)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},5391:(e,s,a)=>{a.d(s,{A:()=>r});const r=(0,a(6230).A)("trending-down",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]])},6355:(e,s,a)=>{a.d(s,{A:()=>r});const r=(0,a(6230).A)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]])},6950:(e,s,a)=>{a.r(s),a.d(s,{default:()=>y});var r=a(2555),n=a(9950),t=a(827),i=a(1111),c=a(4245),l=a(4779),d=a(6607),o=a(1455),m=a(9093),x=a(9630),h=a(1742),p=a(4814),u=a(6479),j=a(2033),v=a(4414);const y=()=>{const{id:e}=(0,t.g)(),s=(0,t.Zp)(),[a,y]=(0,n.useState)({name:"",description:"",isPublic:!1}),[g,N]=(0,n.useState)([]),[f,b]=(0,n.useState)(!0),[A,w]=(0,n.useState)(!1),k=[{id:"market_cap",name:"Market Cap",type:"range"},{id:"price",name:"Stock Price",type:"range"},{id:"volume",name:"Volume",type:"range"},{id:"pe_ratio",name:"P/E Ratio",type:"range"},{id:"dividend_yield",name:"Dividend Yield",type:"range"},{id:"change_percent",name:"Price Change %",type:"range"},{id:"exchange",name:"Exchange",type:"select"}];(0,n.useEffect)(()=>{setTimeout(()=>{y({name:"High Growth Tech",description:"Technology stocks with >20% revenue growth",isPublic:!0}),N([{id:"market_cap",name:"Market Cap",type:"range",min:"1000000000",max:"100000000000"},{id:"change_percent",name:"Price Change %",type:"range",min:"5",max:""}]),b(!1)},1e3)},[e]);const C=(e,s,a)=>{N(g.map(n=>n.id===e?(0,r.A)((0,r.A)({},n),{},{[s]:a}):n))};return f?(0,v.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,v.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,v.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),(0,v.jsx)("div",{className:"h-64 bg-gray-200 rounded"})]})}):(0,v.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,v.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,v.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,v.jsxs)("div",{children:[(0,v.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Edit Screener"}),(0,v.jsx)("p",{className:"text-gray-600 mt-2",children:"Modify your stock screening criteria"})]}),(0,v.jsxs)("div",{className:"flex gap-2",children:[(0,v.jsxs)(i.$,{variant:"destructive",onClick:async()=>{if(confirm("Are you sure you want to delete this screener?")){w(!0);try{await new Promise(e=>setTimeout(e,1e3)),j.oR.success("Screener deleted successfully"),s("/app/screeners")}catch(e){j.oR.error("Failed to delete screener")}finally{w(!1)}}},disabled:A,children:[(0,v.jsx)(p.A,{className:"h-4 w-4 mr-2"}),"Delete"]}),(0,v.jsxs)(i.$,{onClick:async()=>{if(a.name.trim()){w(!0);try{await new Promise(e=>setTimeout(e,1e3)),j.oR.success("Screener updated successfully"),s("/app/screeners")}catch(e){j.oR.error("Failed to update screener")}finally{w(!1)}}else j.oR.error("Please enter a screener name")},disabled:A,children:[(0,v.jsx)(h.A,{className:"h-4 w-4 mr-2"}),"Save Changes"]})]})]}),(0,v.jsxs)("div",{className:"space-y-6",children:[(0,v.jsxs)(c.Zp,{children:[(0,v.jsx)(c.aR,{children:(0,v.jsx)(c.ZB,{children:"Basic Information"})}),(0,v.jsxs)(c.Wu,{className:"space-y-4",children:[(0,v.jsxs)("div",{children:[(0,v.jsx)(d.J,{htmlFor:"name",children:"Screener Name"}),(0,v.jsx)(l.p,{id:"name",value:a.name,onChange:e=>y((0,r.A)((0,r.A)({},a),{},{name:e.target.value}))})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)(d.J,{htmlFor:"description",children:"Description"}),(0,v.jsx)(m.T,{id:"description",value:a.description,onChange:e=>y((0,r.A)((0,r.A)({},a),{},{description:e.target.value})),rows:3})]})]})]}),(0,v.jsxs)(c.Zp,{children:[(0,v.jsx)(c.aR,{children:(0,v.jsx)(c.ZB,{children:"Screening Criteria"})}),(0,v.jsxs)(c.Wu,{children:[(0,v.jsx)("div",{className:"mb-4",children:(0,v.jsxs)(o.l6,{onValueChange:e=>{const s=k.find(s=>s.id===e);if(!s||g.some(s=>s.id===e))return;const a={id:e,name:s.name,type:s.type,min:"",max:"",value:""};N([...g,a])},children:[(0,v.jsx)(o.bq,{children:(0,v.jsx)(o.yv,{placeholder:"Add a criterion"})}),(0,v.jsx)(o.gC,{children:k.filter(e=>!g.some(s=>s.id===e.id)).map(e=>(0,v.jsx)(o.eb,{value:e.id,children:e.name},e.id))})]})}),(0,v.jsx)("div",{className:"space-y-4",children:g.map(e=>(0,v.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,v.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,v.jsx)(x.E,{variant:"outline",children:e.name}),(0,v.jsx)(i.$,{size:"sm",variant:"ghost",onClick:()=>{return s=e.id,void N(g.filter(e=>e.id!==s));var s},children:(0,v.jsx)(u.A,{className:"h-4 w-4"})})]}),"range"===e.type&&(0,v.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,v.jsxs)("div",{children:[(0,v.jsx)(d.J,{children:"Minimum"}),(0,v.jsx)(l.p,{type:"number",value:e.min,onChange:s=>C(e.id,"min",s.target.value),placeholder:"Min value"})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)(d.J,{children:"Maximum"}),(0,v.jsx)(l.p,{type:"number",value:e.max,onChange:s=>C(e.id,"max",s.target.value),placeholder:"Max value"})]})]})]},e.id))})]})]})]})]})})}},6987:(e,s,a)=>{a.d(s,{A:()=>r});const r=(0,a(6230).A)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},7255:(e,s,a)=>{a.d(s,{A:()=>r});const r=(0,a(6230).A)("download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},7758:(e,s,a)=>{a.r(s),a.d(s,{default:()=>N});var r=a(2555),n=a(9950),t=a(827),i=a(1111),c=a(4245),l=a(4779),d=a(6607),o=a(1455),m=a(9093),x=a(9848),h=a(9630),p=a(621),u=a(1742),j=a(6479),v=a(2033),y=a(5508),g=a(4414);const N=()=>{const e=(0,t.Zp)(),[s,a]=(0,n.useState)({name:"",description:"",isPublic:!1}),[N,f]=(0,n.useState)([]),[b,A]=(0,n.useState)(!1),w=[{id:"market_cap",name:"Market Cap",type:"range"},{id:"price",name:"Stock Price",type:"range"},{id:"volume",name:"Volume",type:"range"},{id:"pe_ratio",name:"P/E Ratio",type:"range"},{id:"dividend_yield",name:"Dividend Yield",type:"range"},{id:"change_percent",name:"Price Change %",type:"range"},{id:"exchange",name:"Exchange",type:"select"}],k=(e,s,a)=>{f(N.map(n=>n.id===e?(0,r.A)((0,r.A)({},n),{},{[s]:a}):n))};return(0,g.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,g.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,g.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Create Stock Screener"}),(0,g.jsx)("p",{className:"text-gray-600 mt-2",children:"Set up criteria to find stocks that match your strategy"})]}),(0,g.jsxs)("div",{className:"flex gap-2",children:[(0,g.jsxs)(i.$,{variant:"outline",onClick:async()=>{if(0!==N.length){A(!0);try{const s=(e=>{const s={};for(const a of e)"market_cap"===a.id&&(a.min&&(s.market_cap_min=Number(a.min)),a.max&&(s.market_cap_max=Number(a.max))),"price"===a.id&&(a.min&&(s.price_min=Number(a.min)),a.max&&(s.price_max=Number(a.max))),"volume"===a.id&&(a.min&&(s.volume_min=Number(a.min)),a.max&&(s.volume_max=Number(a.max))),"pe_ratio"===a.id&&(a.min&&(s.pe_ratio_min=Number(a.min)),a.max&&(s.pe_ratio_max=Number(a.max))),"dividend_yield"===a.id&&(a.min&&(s.dividend_yield_min=Number(a.min)),a.max&&(s.dividend_yield_max=Number(a.max))),"change_percent"===a.id&&(a.min&&(s.change_percent_min=Number(a.min)),a.max&&(s.change_percent_max=Number(a.max))),"exchange"===a.id&&a.value&&(s.exchange=a.value);return s})(N),a=await(0,y.qm)(s),r=(Array.isArray(null===a||void 0===a?void 0:a.results)?a.results:Array.isArray(a)?a:[]).length||0;window.localStorage.setItem("screener:lastParams",JSON.stringify(s)),v.oR.success("Found ".concat(r," matching stocks")),e("/app/screeners/adhoc/results")}catch(s){v.oR.error("Failed to test screener")}finally{A(!1)}}else v.oR.error("Please add at least one criterion")},disabled:b,children:[(0,g.jsx)(p.A,{className:"h-4 w-4 mr-2"}),"Test Run"]}),(0,g.jsxs)(i.$,{onClick:async()=>{if(s.name.trim())if(0!==N.length){A(!0);try{await new Promise(e=>setTimeout(e,1e3)),v.oR.success("Screener saved successfully"),e("/app/screeners")}catch(a){v.oR.error("Failed to save screener")}finally{A(!1)}}else v.oR.error("Please add at least one criterion");else v.oR.error("Please enter a screener name")},disabled:b,children:[(0,g.jsx)(u.A,{className:"h-4 w-4 mr-2"}),"Save Screener"]})]})]}),(0,g.jsxs)("div",{className:"grid gap-6 lg:grid-cols-3",children:[(0,g.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,g.jsxs)(c.Zp,{children:[(0,g.jsxs)(c.aR,{children:[(0,g.jsx)(c.ZB,{children:"Basic Information"}),(0,g.jsx)(c.BT,{children:"Give your screener a name and description"})]}),(0,g.jsxs)(c.Wu,{className:"space-y-4",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)(d.J,{htmlFor:"name",children:"Screener Name"}),(0,g.jsx)(l.p,{id:"name",value:s.name,onChange:e=>a((0,r.A)((0,r.A)({},s),{},{name:e.target.value})),placeholder:"e.g., High Dividend Value Stocks"})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)(d.J,{htmlFor:"description",children:"Description"}),(0,g.jsx)(m.T,{id:"description",value:s.description,onChange:e=>a((0,r.A)((0,r.A)({},s),{},{description:e.target.value})),placeholder:"Describe what this screener looks for...",rows:3})]})]})]}),(0,g.jsxs)(c.Zp,{children:[(0,g.jsxs)(c.aR,{children:[(0,g.jsx)(c.ZB,{children:"Screening Criteria"}),(0,g.jsx)(c.BT,{children:"Add filters to narrow down your stock selection"})]}),(0,g.jsxs)(c.Wu,{children:[(0,g.jsx)("div",{className:"mb-4",children:(0,g.jsxs)(o.l6,{onValueChange:e=>{const s=w.find(s=>s.id===e);if(!s||N.some(s=>s.id===e))return;const a={id:e,name:s.name,type:s.type,min:"",max:"",value:""};f([...N,a])},children:[(0,g.jsx)(o.bq,{children:(0,g.jsx)(o.yv,{placeholder:"Add a criterion"})}),(0,g.jsx)(o.gC,{children:w.filter(e=>!N.some(s=>s.id===e.id)).map(e=>(0,g.jsx)(o.eb,{value:e.id,children:e.name},e.id))})]})}),(0,g.jsx)("div",{className:"space-y-4",children:N.map(e=>(0,g.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,g.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,g.jsx)(h.E,{variant:"outline",children:e.name}),(0,g.jsx)(i.$,{size:"sm",variant:"ghost",onClick:()=>{return s=e.id,void f(N.filter(e=>e.id!==s));var s},children:(0,g.jsx)(j.A,{className:"h-4 w-4"})})]}),"range"===e.type&&(0,g.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)(d.J,{children:"Minimum"}),(0,g.jsx)(l.p,{type:"number",value:e.min,onChange:s=>k(e.id,"min",s.target.value),placeholder:"Min value"})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)(d.J,{children:"Maximum"}),(0,g.jsx)(l.p,{type:"number",value:e.max,onChange:s=>k(e.id,"max",s.target.value),placeholder:"Max value"})]})]}),"select"===e.type&&"exchange"===e.id&&(0,g.jsxs)(o.l6,{onValueChange:s=>k(e.id,"value",s),children:[(0,g.jsx)(o.bq,{children:(0,g.jsx)(o.yv,{placeholder:"Select exchange"})}),(0,g.jsxs)(o.gC,{children:[(0,g.jsx)(o.eb,{value:"NYSE",children:"NYSE"}),(0,g.jsx)(o.eb,{value:"NASDAQ",children:"NASDAQ"}),(0,g.jsx)(o.eb,{value:"AMEX",children:"AMEX"})]})]})]},e.id))}),0===N.length&&(0,g.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No criteria added yet. Select from the dropdown above to add filters."})]})]})]}),(0,g.jsx)("div",{children:(0,g.jsxs)(c.Zp,{children:[(0,g.jsx)(c.aR,{children:(0,g.jsx)(c.ZB,{children:"Quick Stats"})}),(0,g.jsxs)(c.Wu,{children:[(0,g.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,g.jsxs)("div",{className:"flex justify-between",children:[(0,g.jsx)("span",{className:"text-gray-600",children:"Criteria Count"}),(0,g.jsx)("span",{className:"font-semibold",children:N.length})]}),(0,g.jsxs)("div",{className:"flex justify-between",children:[(0,g.jsx)("span",{className:"text-gray-600",children:"Expected Matches"}),(0,g.jsx)("span",{className:"font-semibold text-blue-600",children:"~15-50"})]}),(0,g.jsxs)("div",{className:"flex justify-between",children:[(0,g.jsx)("span",{className:"text-gray-600",children:"Last Test Run"}),(0,g.jsx)("span",{className:"font-semibold",children:"Never"})]})]}),(0,g.jsx)(x.w,{className:"my-4"}),(0,g.jsx)("div",{className:"text-xs text-gray-500",children:'Click "Test Run" to see how many stocks match your current criteria.'})]})]})})]})]})})}},9093:(e,s,a)=>{a.d(s,{T:()=>d});var r=a(2555),n=a(3986),t=a(9950),i=a(90),c=a(4414);const l=["className"],d=t.forwardRef((e,s)=>{let{className:a}=e,t=(0,n.A)(e,l);return(0,c.jsx)("textarea",(0,r.A)({className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:s},t))});d.displayName="Textarea"},9445:(e,s,a)=>{a.r(s),a.d(s,{default:()=>x});var r=a(9950),n=a(827),t=a(1111),i=a(4245),c=(a(9630),a(4779)),l=a(6355),d=a(2607),o=a(3147),m=(a(5508),a(2033),a(4414));const x=()=>{const[e,s]=(0,r.useState)([]),[a,x]=(0,r.useState)(""),[h,p]=(0,r.useState)(!0);(0,r.useEffect)(()=>{s([]),p(!1)},[]);const u=e.filter(e=>e.name.toLowerCase().includes(a.toLowerCase())||e.description.toLowerCase().includes(a.toLowerCase()));return h?(0,m.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,m.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,m.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),(0,m.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[1,2,3].map(e=>(0,m.jsx)("div",{className:"h-48 bg-gray-200 rounded"},e))})]})}):(0,m.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,m.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,m.jsxs)("div",{children:[(0,m.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Stock Screeners"}),(0,m.jsx)("p",{className:"text-gray-600 mt-2",children:"Find stocks that match your criteria"})]}),(0,m.jsx)(t.$,{asChild:!0,children:(0,m.jsxs)(n.N_,{to:"/app/screeners/new",children:[(0,m.jsx)(d.A,{className:"h-4 w-4 mr-2"}),"Create Screener"]})})]}),(0,m.jsxs)("div",{className:"flex gap-4 mb-6",children:[(0,m.jsxs)("div",{className:"relative flex-1",children:[(0,m.jsx)(o.A,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,m.jsx)(c.p,{placeholder:"Search screeners...",value:a,onChange:e=>x(e.target.value),className:"pl-10"})]}),(0,m.jsxs)(t.$,{variant:"outline",children:[(0,m.jsx)(l.A,{className:"h-4 w-4 mr-2"}),"Filter"]})]}),(0,m.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:0===u.length&&(0,m.jsxs)(i.Zp,{className:"hover:shadow-lg transition-shadow",children:[(0,m.jsxs)(i.aR,{children:[(0,m.jsx)(i.ZB,{className:"text-xl",children:"No saved screeners yet"}),(0,m.jsx)(i.BT,{children:"Create one to get started"})]}),(0,m.jsx)(i.Wu,{children:(0,m.jsx)("div",{className:"flex gap-2",children:(0,m.jsx)(t.$,{size:"sm",className:"flex-1",asChild:!0,children:(0,m.jsxs)(n.N_,{to:"/app/screeners/new",children:[(0,m.jsx)(d.A,{className:"h-4 w-4 mr-1"}),"Create Screener"]})})})})]})}),0===u.length&&(0,m.jsxs)("div",{className:"text-center py-12",children:[(0,m.jsx)("div",{className:"text-gray-500 mb-4",children:"No screeners found"}),(0,m.jsx)(t.$,{asChild:!0,children:(0,m.jsx)(n.N_,{to:"/app/screeners/new",children:"Create your first screener"})})]})]})}},9848:(e,s,a)=>{a.d(s,{w:()=>u});var r=a(2555),n=a(3986),t=a(9950),i=a(4835),c=a(4414);const l=["decorative","orientation"];var d="horizontal",o=["horizontal","vertical"],m=t.forwardRef((e,s)=>{const{decorative:a,orientation:t=d}=e,m=(0,n.A)(e,l),x=function(e){return o.includes(e)}(t)?t:d,h=a?{role:"none"}:{"aria-orientation":"vertical"===x?x:void 0,role:"separator"};return(0,c.jsx)(i.sG.div,(0,r.A)((0,r.A)((0,r.A)({"data-orientation":x},h),m),{},{ref:s}))});m.displayName="Separator";var x=m,h=a(90);const p=["className","orientation","decorative"],u=t.forwardRef((e,s)=>{let{className:a,orientation:t="horizontal",decorative:i=!0}=e,l=(0,n.A)(e,p);return(0,c.jsx)(x,(0,r.A)({ref:s,decorative:i,orientation:t,className:(0,h.cn)("shrink-0 bg-border","horizontal"===t?"h-[1px] w-full":"h-full w-[1px]",a)},l))});u.displayName=x.displayName}}]);