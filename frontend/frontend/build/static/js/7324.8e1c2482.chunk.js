/*! For license information please see 7324.8e1c2482.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[7324],{1742:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(6230).A)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},5391:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(6230).A)("trending-down",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]])},7324:(e,s,a)=>{a.r(s),a.d(s,{default:()=>f});var t=a(2555),c=a(9950),l=a(827),i=a(4245),n=a(1111),r=a(4779),d=a(9093),o=a(9630),m=a(2033),x=a(5508),h=a(5462),u=a(1850),p=a(1742),v=a(5391),j=a(6890),N=a(4414);function f(){const{id:e}=(0,l.g)(),[s,a]=(0,c.useState)(!0),[f,g]=(0,c.useState)(""),[y,b]=(0,c.useState)([]);(0,c.useEffect)(()=>{(async()=>{a(!0),g("");try{const s=await(0,x.Qo)();null!==s&&void 0!==s&&s.success?b((s.data||[]).filter(s=>{var a;return(null===(a=s.watchlist_name)||void 0===a?void 0:a.toLowerCase())===(e||"").toLowerCase()})):(b([]),g("Watchlist not available"))}catch(s){g("Failed to load watchlist")}finally{a(!1)}})()},[e]);const w=(0,c.useMemo)(()=>{const e={};for(const s of y){const a=(s.watchlist_name||"My Watchlist").toString();e[a]=e[a]||[],e[a].push(s)}return e},[y]),k=(e,s)=>b(a=>a.map((a,c)=>c===e?(0,t.A)((0,t.A)({},a),s):a));if(s)return(0,N.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,N.jsx)("div",{className:"h-8 w-48 bg-gray-200 animate-pulse rounded mb-4"}),(0,N.jsx)("div",{className:"h-32 w-full bg-gray-200 animate-pulse rounded"})]});if(f)return(0,N.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,N.jsx)(i.Zp,{children:(0,N.jsx)(i.Wu,{className:"p-4 text-red-600",children:f})})});const A=Object.keys(w)[0]||e,_=w[A]||[];return(0,N.jsxs)("div",{className:"container mx-auto px-4 py-8 max-w-5xl",children:[(0,N.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,N.jsxs)("div",{className:"flex items-center gap-3",children:[(0,N.jsx)(n.$,{asChild:!0,variant:"ghost",children:(0,N.jsx)(l.N_,{to:"/app/watchlists",children:(0,N.jsx)(h.A,{className:"h-4 w-4"})})}),(0,N.jsxs)("h1",{className:"text-2xl font-semibold",children:["Watchlist: ",A]}),(0,N.jsxs)(o.E,{variant:"outline",children:[_.length," items"]})]})}),_.length?(0,N.jsxs)(i.Zp,{children:[(0,N.jsx)(i.aR,{children:(0,N.jsx)(i.ZB,{children:"Symbols"})}),(0,N.jsx)(i.Wu,{children:(0,N.jsx)("div",{className:"space-y-3",children:_.map((e,s)=>{var a,t,c;return(0,N.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-3 p-3 border rounded",children:[(0,N.jsxs)("div",{className:"md:col-span-1",children:[(0,N.jsx)("div",{className:"font-semibold",children:e.symbol}),(0,N.jsx)("div",{className:"text-sm text-gray-600",children:e.company_name})]}),(0,N.jsxs)("div",{className:"md:col-span-1",children:[(0,N.jsx)("div",{className:"text-sm",children:"Price"}),(0,N.jsxs)("div",{className:"font-medium",children:["$",(null!==(a=e.current_price)&&void 0!==a?a:0).toLocaleString()]}),(0,N.jsxs)("div",{className:"text-sm ".concat(Number(e.price_change_percent)>=0?"text-green-600":"text-red-600"),children:[Number(e.price_change_percent)>=0?(0,N.jsx)(j.A,{className:"h-3 w-3 inline"}):(0,N.jsx)(v.A,{className:"h-3 w-3 inline"}),"".concat((null!==(t=e.price_change_percent)&&void 0!==t?t:0).toFixed(2),"%")]})]}),(0,N.jsxs)("div",{className:"md:col-span-2",children:[(0,N.jsx)("div",{className:"text-sm",children:"Notes"}),(0,N.jsx)(d.T,{value:e.notes||"",onChange:e=>k(s,{notes:e.target.value}),rows:2})]}),(0,N.jsxs)("div",{className:"md:col-span-1",children:[(0,N.jsx)("div",{className:"text-sm",children:"Alert price"}),(0,N.jsx)(r.p,{value:null!==(c=e.alert_price)&&void 0!==c?c:"",type:"number",step:"0.01",onChange:e=>k(s,{alert_price:e.target.value})})]}),(0,N.jsxs)("div",{className:"md:col-span-1 flex items-end gap-2",children:[(0,N.jsxs)(n.$,{size:"sm",variant:"outline",onClick:()=>(async e=>{try{m.oR.success("".concat(e.symbol," updated"))}catch(s){m.oR.error("Failed to save")}})(e),children:[(0,N.jsx)(p.A,{className:"h-3 w-3 mr-1"})," Save"]}),(0,N.jsxs)(n.$,{size:"sm",onClick:()=>(async e=>{try{await(0,x.Tj)({ticker:e.symbol,target_price:e.alert_price||e.current_price,condition:"above",email:"user@example.com"}),m.oR.success("Alert set for ".concat(e.symbol))}catch(s){m.oR.error("Failed to create alert")}})(e),children:[(0,N.jsx)(u.A,{className:"h-3 w-3 mr-1"})," Alert"]})]})]},e.id||s)})})})]}):(0,N.jsx)(i.Zp,{children:(0,N.jsx)(i.Wu,{className:"p-6 text-gray-600",children:"No items in this watchlist."})})]})}},9093:(e,s,a)=>{a.d(s,{T:()=>d});var t=a(2555),c=a(3986),l=a(9950),i=a(90),n=a(4414);const r=["className"],d=l.forwardRef((e,s)=>{let{className:a}=e,l=(0,c.A)(e,r);return(0,n.jsx)("textarea",(0,t.A)({className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:s},l))});d.displayName="Textarea"}}]);