/*! For license information please see 1550.5e9001c2.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[1550],{1455:(e,t,s)=>{s.d(t,{bq:()=>y,eb:()=>k,gC:()=>A,l6:()=>j,yv:()=>v});var a=s(2555),r=s(3986),l=s(9950),n=s(2766),i=s(6311),c=s(7453),d=s(7684),o=s(90),m=s(4414);const x=["className","children"],h=["className"],u=["className"],p=["className","children","position"],f=["className"],N=["className","children"],g=["className"],j=n.bL,v=(n.YJ,n.WT),y=l.forwardRef((e,t)=>{let{className:s,children:l}=e,i=(0,r.A)(e,x);return(0,m.jsxs)(n.l9,(0,a.A)((0,a.A)({ref:t,className:(0,o.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s)},i),{},{children:[l,(0,m.jsx)(n.In,{asChild:!0,children:(0,m.jsx)(c.A,{className:"h-4 w-4 opacity-50"})})]}))});y.displayName=n.l9.displayName;const b=l.forwardRef((e,t)=>{let{className:s}=e,l=(0,r.A)(e,h);return(0,m.jsx)(n.PP,(0,a.A)((0,a.A)({ref:t,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",s)},l),{},{children:(0,m.jsx)(d.A,{className:"h-4 w-4"})}))});b.displayName=n.PP.displayName;const w=l.forwardRef((e,t)=>{let{className:s}=e,l=(0,r.A)(e,u);return(0,m.jsx)(n.wn,(0,a.A)((0,a.A)({ref:t,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",s)},l),{},{children:(0,m.jsx)(c.A,{className:"h-4 w-4"})}))});w.displayName=n.wn.displayName;const A=l.forwardRef((e,t)=>{let{className:s,children:l,position:i="popper"}=e,c=(0,r.A)(e,p);return(0,m.jsx)(n.ZL,{children:(0,m.jsxs)(n.UC,(0,a.A)((0,a.A)({ref:t,className:(0,o.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:i},c),{},{children:[(0,m.jsx)(b,{}),(0,m.jsx)(n.LM,{className:(0,o.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:l}),(0,m.jsx)(w,{})]}))})});A.displayName=n.UC.displayName;l.forwardRef((e,t)=>{let{className:s}=e,l=(0,r.A)(e,f);return(0,m.jsx)(n.JU,(0,a.A)({ref:t,className:(0,o.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",s)},l))}).displayName=n.JU.displayName;const k=l.forwardRef((e,t)=>{let{className:s,children:l}=e,c=(0,r.A)(e,N);return(0,m.jsxs)(n.q7,(0,a.A)((0,a.A)({ref:t,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s)},c),{},{children:[(0,m.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,m.jsx)(n.VF,{children:(0,m.jsx)(i.A,{className:"h-4 w-4"})})}),(0,m.jsx)(n.p4,{children:l})]}))});k.displayName=n.q7.displayName;l.forwardRef((e,t)=>{let{className:s}=e,l=(0,r.A)(e,g);return(0,m.jsx)(n.wv,(0,a.A)({ref:t,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",s)},l))}).displayName=n.wv.displayName},1550:(e,t,s)=>{s.r(t),s.d(t,{default:()=>u});var a=s(9950),r=s(4245),l=s(9630),n=s(1111),i=s(1455),c=s(6987),d=s(5391),o=s(6890),m=s(2033),x=s(5508),h=s(4414);const u=()=>{const[e,t]=(0,a.useState)([]),[s,u]=(0,a.useState)("change_percent"),[p,f]=(0,a.useState)(!0),[N,g]=(0,a.useState)(null),[j,v]=(0,a.useState)("");(0,a.useEffect)(()=>{y()},[s]);const y=async()=>{f(!0),v("");try{const e=await(0,x.WF)({limit:50}),s=(null===e||void 0===e?void 0:e.data)||[];t(Array.isArray(s)?s:[]),g(new Date),null!==e&&void 0!==e&&e.success||v("Stocks API returned non-success response")}catch(j){v("Failed to fetch heatmap data"),m.oR.error("Failed to fetch heatmap data")}finally{f(!1)}},b=(e,t)=>{const s=Number(e);return"change_percent"===t?"".concat(s>=0?"+":"").concat((Number.isFinite(s)?s:0).toFixed(2),"%"):"volume"===t?(Number.isFinite(s)?(s/1e6).toFixed(1):0)+"M":"market_cap"===t?"$"+(Number.isFinite(s)?(s/1e9).toFixed(1):0)+"B":(Number.isFinite(s)?s:0).toString()};return p?(0,h.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,h.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,h.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),(0,h.jsx)("div",{className:"h-96 bg-gray-200 rounded"})]})}):(0,h.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,h.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Market Heatmap"}),(0,h.jsx)("p",{className:"text-gray-600 mt-2",children:"Visual representation of market performance"})]}),(0,h.jsxs)("div",{className:"flex items-center gap-4",children:[(0,h.jsxs)(i.l6,{value:s,onValueChange:u,children:[(0,h.jsx)(i.bq,{className:"w-48",children:(0,h.jsx)(i.yv,{placeholder:"Select metric"})}),(0,h.jsx)(i.gC,{children:[{value:"change_percent",label:"Price Change %"},{value:"volume",label:"Volume"},{value:"market_cap",label:"Market Cap"}].map(e=>(0,h.jsx)(i.eb,{value:e.value,children:e.label},e.value))})]}),(0,h.jsxs)(n.$,{variant:"outline",onClick:y,children:[(0,h.jsx)(c.A,{className:"h-4 w-4 mr-2"})," Refresh"]})]})]}),j&&(0,h.jsx)(r.Zp,{className:"border-l-4 border-l-yellow-500 bg-yellow-50/50 mb-6",children:(0,h.jsxs)(r.Wu,{className:"p-4 text-yellow-800 flex items-center justify-between",children:[(0,h.jsx)("span",{children:j}),(0,h.jsx)(n.$,{size:"sm",variant:"outline",onClick:y,children:"Retry"})]})}),(0,h.jsxs)("div",{className:"grid gap-6",children:[(0,h.jsxs)(r.Zp,{children:[(0,h.jsx)(r.aR,{children:(0,h.jsxs)(r.ZB,{className:"flex items-center justify-between",children:["Market Overview",(0,h.jsx)(l.E,{variant:"outline",children:N?"Updated ".concat(N.toLocaleTimeString()):"Loading..."})]})}),(0,h.jsx)(r.Wu,{children:e.length?(0,h.jsx)("div",{className:"grid gap-2",style:{gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))"},children:e.map(t=>{const a=t[s],r=Number(a),l=((e,t,s)=>{const a=Number(e);if("change_percent"===t)return Number.isFinite(a)?a:0;const r=s.map(e=>Number(e[t]||0)),l=Math.max(...r),n=Math.min(...r);return Number.isFinite(l)&&Number.isFinite(n)&&l!==n?(a-n)/(l-n):0})(a,s,e),n=((e,t)=>"change_percent"===t?e>5?"bg-green-600 text-white":e>2?"bg-green-500 text-white":e>0?"bg-green-200 text-green-800":e>-2?"bg-red-200 text-red-800":e>-5?"bg-red-500 text-white":"bg-red-600 text-white":e>.8?"bg-blue-600 text-white":e>.6?"bg-blue-500 text-white":e>.4?"bg-blue-200 text-blue-800":"bg-gray-200 text-gray-800")("change_percent"===s?r:l,s);return(0,h.jsxs)("div",{className:"p-3 rounded-lg cursor-pointer hover:opacity-80 transition-opacity ".concat(n),title:"".concat(t.company_name," - ").concat(b(r,s)),children:[(0,h.jsx)("div",{className:"font-semibold text-sm",children:t.ticker}),(0,h.jsx)("div",{className:"text-xs opacity-90",children:b(r,s)})]},t.ticker)})}):(0,h.jsx)("div",{className:"text-center py-12 text-gray-500",children:"No stocks available"})})]}),!!e.length&&(0,h.jsxs)(r.Zp,{children:[(0,h.jsx)(r.aR,{children:(0,h.jsx)(r.ZB,{children:"Market Statistics"})}),(0,h.jsx)(r.Wu,{children:(0,h.jsxs)("div",{className:"grid md:grid-cols-4 gap-4",children:[(0,h.jsxs)("div",{className:"text-center",children:[(0,h.jsx)("div",{className:"text-2xl font-bold text-green-600",children:e.filter(e=>{var t;return(null!==(t=e.change_percent)&&void 0!==t?t:0)>0}).length}),(0,h.jsxs)("div",{className:"text-sm text-gray-600 flex items-center justify-center",children:[(0,h.jsx)(o.A,{className:"h-4 w-4 mr-1"})," Gainers"]})]}),(0,h.jsxs)("div",{className:"text-center",children:[(0,h.jsx)("div",{className:"text-2xl font-bold text-red-600",children:e.filter(e=>{var t;return(null!==(t=e.change_percent)&&void 0!==t?t:0)<0}).length}),(0,h.jsxs)("div",{className:"text-sm text-gray-600 flex items-center justify-center",children:[(0,h.jsx)(d.A,{className:"h-4 w-4 mr-1"})," Losers"]})]}),(0,h.jsxs)("div",{className:"text-center",children:[(0,h.jsx)("div",{className:"text-2xl font-bold text-gray-600",children:e.filter(e=>{var t;return 0===(null!==(t=e.change_percent)&&void 0!==t?t:0)}).length}),(0,h.jsx)("div",{className:"text-sm text-gray-600",children:"Unchanged"})]}),(0,h.jsxs)("div",{className:"text-center",children:[(0,h.jsxs)("div",{className:"text-2xl font-bold text-blue-600",children:[(e.reduce((e,t)=>{var s;return e+(null!==(s=t.volume)&&void 0!==s?s:0)},0)/1e9).toFixed(1),"B"]}),(0,h.jsx)("div",{className:"text-sm text-gray-600",children:"Total Volume"})]})]})})]})]})]})}},5391:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(6230).A)("trending-down",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]])},6987:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(6230).A)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])}}]);