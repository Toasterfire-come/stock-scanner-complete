/*! For license information please see 1183.47780552.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[1183],{854:(e,s,a)=>{a.d(s,{E:()=>c});var t=a(2555),l=a(3986),d=a(90),n=a(4414);const i=["className"];function c(e){let{className:s}=e,a=(0,l.A)(e,i);return(0,n.jsx)("div",(0,t.A)({className:(0,d.cn)("skeleton rounded-md",s)},a))}},1041:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(6230).A)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},1183:(e,s,a)=>{a.r(s),a.d(s,{default:()=>w});var t=a(9950),l=a(1111),d=a(4245),n=a(9630),i=a(854),c=a(1455),r=a(2033),o=a(5833),x=a(9469),m=a(6355),h=a(9585),p=a(9201),j=a(7737),u=a(1041),y=a(4215),f=a(7255),N=a(7637),v=a(5508),g=a(4414);const w=()=>{const[e,s]=(0,t.useState)(!0),[a,w]=(0,t.useState)([]),[b,A]=(0,t.useState)(null),[k,R]=(0,t.useState)(1),[C,M]=(0,t.useState)("all"),[S,z]=(0,t.useState)(new Set);(0,t.useEffect)(()=>{(async()=>{try{const[e,s]=await Promise.all([(0,v.Y)({page:k,limit:10}),(0,v.pq)()]);e.success&&w(e.data),s.success&&A(s.data)}catch(e){console.error("Failed to load billing data:",e),w([]),A(null)}finally{s(!1)}})()},[k]);const L=e=>{switch(e.toLowerCase()){case"paid":return(0,g.jsx)(o.A,{className:"h-4 w-4 text-green-500"});case"failed":return(0,g.jsx)(x.A,{className:"h-4 w-4 text-red-500"});case"pending":return(0,g.jsx)(j.A,{className:"h-4 w-4 text-yellow-500"});default:return(0,g.jsx)(j.A,{className:"h-4 w-4 text-gray-500"})}},q=a.filter(e=>"all"===C||e.status.toLowerCase()===C);return e?(0,g.jsx)("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:(0,g.jsxs)("div",{className:"space-y-6",children:[(0,g.jsx)(i.E,{className:"h-8 w-48"}),(0,g.jsx)("div",{className:"grid md:grid-cols-4 gap-4",children:[1,2,3,4].map(e=>(0,g.jsx)(d.Zp,{children:(0,g.jsxs)(d.Wu,{className:"p-6",children:[(0,g.jsx)(i.E,{className:"h-8 w-16 mb-2"}),(0,g.jsx)(i.E,{className:"h-4 w-24"})]})},e))}),(0,g.jsxs)(d.Zp,{children:[(0,g.jsx)(d.aR,{children:(0,g.jsx)(i.E,{className:"h-6 w-32"})}),(0,g.jsx)(d.Wu,{children:(0,g.jsx)("div",{className:"space-y-4",children:[1,2,3].map(e=>(0,g.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded",children:[(0,g.jsx)(i.E,{className:"h-4 w-48"}),(0,g.jsx)(i.E,{className:"h-4 w-16"})]},e))})})]})]})}):(0,g.jsx)("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:(0,g.jsxs)("div",{className:"space-y-6",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Billing History"}),(0,g.jsx)("p",{className:"text-gray-600 mt-2",children:"View your billing history, download invoices, and manage payments"})]}),b&&(0,g.jsxs)("div",{className:"grid md:grid-cols-4 gap-4",children:[(0,g.jsx)(d.Zp,{children:(0,g.jsx)(d.Wu,{className:"p-6",children:(0,g.jsxs)("div",{className:"flex items-center",children:[(0,g.jsx)(y.A,{className:"h-8 w-8 text-green-500"}),(0,g.jsxs)("div",{className:"ml-4",children:[(0,g.jsxs)("div",{className:"text-2xl font-bold",children:["$",b.total_spent]}),(0,g.jsx)("div",{className:"text-sm text-gray-600",children:"Total Spent"})]})]})})}),(0,g.jsx)(d.Zp,{children:(0,g.jsx)(d.Wu,{className:"p-6",children:(0,g.jsxs)("div",{className:"flex items-center",children:[(0,g.jsx)(u.A,{className:"h-8 w-8 text-blue-500"}),(0,g.jsxs)("div",{className:"ml-4",children:[(0,g.jsx)("div",{className:"text-2xl font-bold",children:b.recent_payments}),(0,g.jsx)("div",{className:"text-sm text-gray-600",children:"Recent Payments"})]})]})})}),(0,g.jsx)(d.Zp,{children:(0,g.jsx)(d.Wu,{className:"p-6",children:(0,g.jsxs)("div",{className:"flex items-center",children:[(0,g.jsx)(o.A,{className:"h-8 w-8 text-green-500"}),(0,g.jsxs)("div",{className:"ml-4",children:[(0,g.jsx)("div",{className:"text-2xl font-bold capitalize",children:b.account_status}),(0,g.jsx)("div",{className:"text-sm text-gray-600",children:"Account Status"})]})]})})}),(0,g.jsx)(d.Zp,{children:(0,g.jsx)(d.Wu,{className:"p-6",children:(0,g.jsxs)("div",{className:"flex items-center",children:[(0,g.jsx)(p.A,{className:"h-8 w-8 text-purple-500"}),(0,g.jsxs)("div",{className:"ml-4",children:[(0,g.jsx)("div",{className:"text-2xl font-bold",children:new Date(b.next_billing_date).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),(0,g.jsx)("div",{className:"text-sm text-gray-600",children:"Next Billing"})]})]})})})]}),(0,g.jsxs)(d.Zp,{children:[(0,g.jsx)(d.aR,{children:(0,g.jsxs)("div",{className:"flex items-center justify-between",children:[(0,g.jsxs)("div",{children:[(0,g.jsxs)(d.ZB,{className:"flex items-center",children:[(0,g.jsx)(N.A,{className:"h-5 w-5 mr-2"}),"Payment History"]}),(0,g.jsx)(d.BT,{children:"All your billing transactions and invoices"})]}),(0,g.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,g.jsx)(m.A,{className:"h-4 w-4 text-gray-500"}),(0,g.jsxs)(c.l6,{value:C,onValueChange:M,children:[(0,g.jsx)(c.bq,{className:"w-32",children:(0,g.jsx)(c.yv,{})}),(0,g.jsxs)(c.gC,{children:[(0,g.jsx)(c.eb,{value:"all",children:"All Status"}),(0,g.jsx)(c.eb,{value:"paid",children:"Paid"}),(0,g.jsx)(c.eb,{value:"failed",children:"Failed"}),(0,g.jsx)(c.eb,{value:"pending",children:"Pending"}),(0,g.jsx)(c.eb,{value:"refunded",children:"Refunded"})]})]})]})]})}),(0,g.jsx)(d.Wu,{children:0===q.length?(0,g.jsxs)("div",{className:"text-center py-8",children:[(0,g.jsx)(N.A,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),(0,g.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No billing history"}),(0,g.jsx)("p",{className:"text-gray-600",children:"You haven't made any payments yet. Upgrade to a paid plan to get started."})]}):(0,g.jsx)("div",{className:"space-y-0 divide-y",children:q.map(e=>{return(0,g.jsxs)("div",{className:"flex items-center justify-between py-4",children:[(0,g.jsxs)("div",{className:"flex items-center space-x-4",children:[L(e.status),(0,g.jsxs)("div",{children:[(0,g.jsx)("div",{className:"font-medium",children:e.description}),(0,g.jsxs)("div",{className:"text-sm text-gray-600 flex items-center space-x-2",children:[(0,g.jsx)("span",{children:new Date(e.date).toLocaleDateString()}),(0,g.jsx)("span",{children:"\u2022"}),(0,g.jsx)("span",{children:e.method}),(0,g.jsx)("span",{children:"\u2022"}),(0,g.jsxs)("span",{children:["Invoice #",e.id]})]})]})]}),(0,g.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,g.jsxs)("div",{className:"text-right",children:[(0,g.jsxs)("div",{className:"font-semibold",children:["$",e.amount.toFixed(2)]}),(s=e.status,(0,g.jsx)(n.E,{className:{paid:"bg-green-100 text-green-800",failed:"bg-red-100 text-red-800",pending:"bg-yellow-100 text-yellow-800",refunded:"bg-blue-100 text-blue-800"}[s.toLowerCase()]||"bg-gray-100 text-gray-800",children:s.charAt(0).toUpperCase()+s.slice(1)}))]}),e.download_url&&"paid"===e.status&&(0,g.jsx)(l.$,{variant:"outline",size:"sm",onClick:()=>(async e=>{z(s=>new Set(s.add(e)));try{const s=await(0,v.It)(e),a=window.URL.createObjectURL(s),t=document.createElement("a");t.href=a,t.download="invoice-".concat(e,".pdf"),document.body.appendChild(t),t.click(),window.URL.revokeObjectURL(a),document.body.removeChild(t),r.oR.success("Invoice downloaded successfully")}catch(s){r.oR.error("Failed to download invoice")}finally{z(s=>{const a=new Set(s);return a.delete(e),a})}})(e.id),disabled:S.has(e.id),children:S.has(e.id)?"Downloading...":(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(f.A,{className:"h-4 w-4 mr-2"}),"Download"]})}),"failed"===e.status&&(0,g.jsxs)(l.$,{variant:"outline",size:"sm",onClick:()=>r.oR.info("Retry payment from billing portal"),children:[(0,g.jsx)(h.A,{className:"h-4 w-4 mr-2"}),"Retry"]})]})]},e.id);var s})})})]}),(0,g.jsxs)(d.Zp,{children:[(0,g.jsxs)(d.aR,{children:[(0,g.jsx)(d.ZB,{children:"Payment Methods"}),(0,g.jsx)(d.BT,{children:"Manage your payment methods and billing information"})]}),(0,g.jsx)(d.Wu,{children:(0,g.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,g.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,g.jsx)(u.A,{className:"h-6 w-6 text-gray-400"}),(0,g.jsxs)("div",{children:[(0,g.jsx)("div",{className:"font-medium",children:"\u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022 4242"}),(0,g.jsx)("div",{className:"text-sm text-gray-600",children:"Expires 12/2027"})]})]}),(0,g.jsx)(l.$,{variant:"outline",size:"sm",children:"Update"})]})})]})]})})}},1455:(e,s,a)=>{a.d(s,{bq:()=>g,eb:()=>k,gC:()=>A,l6:()=>N,yv:()=>v});var t=a(2555),l=a(3986),d=a(9950),n=a(2766),i=a(6311),c=a(7453),r=a(7684),o=a(90),x=a(4414);const m=["className","children"],h=["className"],p=["className"],j=["className","children","position"],u=["className"],y=["className","children"],f=["className"],N=n.bL,v=(n.YJ,n.WT),g=d.forwardRef((e,s)=>{let{className:a,children:d}=e,i=(0,l.A)(e,m);return(0,x.jsxs)(n.l9,(0,t.A)((0,t.A)({ref:s,className:(0,o.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a)},i),{},{children:[d,(0,x.jsx)(n.In,{asChild:!0,children:(0,x.jsx)(c.A,{className:"h-4 w-4 opacity-50"})})]}))});g.displayName=n.l9.displayName;const w=d.forwardRef((e,s)=>{let{className:a}=e,d=(0,l.A)(e,h);return(0,x.jsx)(n.PP,(0,t.A)((0,t.A)({ref:s,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",a)},d),{},{children:(0,x.jsx)(r.A,{className:"h-4 w-4"})}))});w.displayName=n.PP.displayName;const b=d.forwardRef((e,s)=>{let{className:a}=e,d=(0,l.A)(e,p);return(0,x.jsx)(n.wn,(0,t.A)((0,t.A)({ref:s,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",a)},d),{},{children:(0,x.jsx)(c.A,{className:"h-4 w-4"})}))});b.displayName=n.wn.displayName;const A=d.forwardRef((e,s)=>{let{className:a,children:d,position:i="popper"}=e,c=(0,l.A)(e,j);return(0,x.jsx)(n.ZL,{children:(0,x.jsxs)(n.UC,(0,t.A)((0,t.A)({ref:s,className:(0,o.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:i},c),{},{children:[(0,x.jsx)(w,{}),(0,x.jsx)(n.LM,{className:(0,o.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:d}),(0,x.jsx)(b,{})]}))})});A.displayName=n.UC.displayName;d.forwardRef((e,s)=>{let{className:a}=e,d=(0,l.A)(e,u);return(0,x.jsx)(n.JU,(0,t.A)({ref:s,className:(0,o.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a)},d))}).displayName=n.JU.displayName;const k=d.forwardRef((e,s)=>{let{className:a,children:d}=e,c=(0,l.A)(e,y);return(0,x.jsxs)(n.q7,(0,t.A)((0,t.A)({ref:s,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a)},c),{},{children:[(0,x.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,x.jsx)(n.VF,{children:(0,x.jsx)(i.A,{className:"h-4 w-4"})})}),(0,x.jsx)(n.p4,{children:d})]}))});k.displayName=n.q7.displayName;d.forwardRef((e,s)=>{let{className:a}=e,d=(0,l.A)(e,f);return(0,x.jsx)(n.wv,(0,t.A)({ref:s,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",a)},d))}).displayName=n.wv.displayName},4215:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(6230).A)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},6355:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(6230).A)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]])},7255:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(6230).A)("download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},7637:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(6230).A)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},9201:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(6230).A)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},9469:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(6230).A)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},9585:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(6230).A)("arrow-up-right",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]])}}]);