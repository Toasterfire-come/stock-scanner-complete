/*! For license information please see 2462.35044d93.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[2462],{1455:(e,t,a)=>{a.d(t,{bq:()=>y,eb:()=>T,gC:()=>v,l6:()=>N,yv:()=>A});var s=a(2555),r=a(3986),l=a(9950),c=a(2766),n=a(6311),i=a(7453),d=a(7684),o=a(90),x=a(4414);const m=["className","children"],g=["className"],h=["className"],u=["className","children","position"],p=["className"],f=["className","children"],j=["className"],N=c.bL,A=(c.YJ,c.WT),y=l.forwardRef((e,t)=>{let{className:a,children:l}=e,n=(0,r.A)(e,m);return(0,x.jsxs)(c.l9,(0,s.A)((0,s.A)({ref:t,className:(0,o.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a)},n),{},{children:[l,(0,x.jsx)(c.In,{asChild:!0,children:(0,x.jsx)(i.A,{className:"h-4 w-4 opacity-50"})})]}))});y.displayName=c.l9.displayName;const b=l.forwardRef((e,t)=>{let{className:a}=e,l=(0,r.A)(e,g);return(0,x.jsx)(c.PP,(0,s.A)((0,s.A)({ref:t,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",a)},l),{},{children:(0,x.jsx)(d.A,{className:"h-4 w-4"})}))});b.displayName=c.PP.displayName;const w=l.forwardRef((e,t)=>{let{className:a}=e,l=(0,r.A)(e,h);return(0,x.jsx)(c.wn,(0,s.A)((0,s.A)({ref:t,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",a)},l),{},{children:(0,x.jsx)(i.A,{className:"h-4 w-4"})}))});w.displayName=c.wn.displayName;const v=l.forwardRef((e,t)=>{let{className:a,children:l,position:n="popper"}=e,i=(0,r.A)(e,u);return(0,x.jsx)(c.ZL,{children:(0,x.jsxs)(c.UC,(0,s.A)((0,s.A)({ref:t,className:(0,o.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:n},i),{},{children:[(0,x.jsx)(b,{}),(0,x.jsx)(c.LM,{className:(0,o.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:l}),(0,x.jsx)(w,{})]}))})});v.displayName=c.UC.displayName;l.forwardRef((e,t)=>{let{className:a}=e,l=(0,r.A)(e,p);return(0,x.jsx)(c.JU,(0,s.A)({ref:t,className:(0,o.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a)},l))}).displayName=c.JU.displayName;const T=l.forwardRef((e,t)=>{let{className:a,children:l}=e,i=(0,r.A)(e,f);return(0,x.jsxs)(c.q7,(0,s.A)((0,s.A)({ref:t,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a)},i),{},{children:[(0,x.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,x.jsx)(c.VF,{children:(0,x.jsx)(n.A,{className:"h-4 w-4"})})}),(0,x.jsx)(c.p4,{children:l})]}))});T.displayName=c.q7.displayName;l.forwardRef((e,t)=>{let{className:a}=e,l=(0,r.A)(e,j);return(0,x.jsx)(c.wv,(0,s.A)({ref:t,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",a)},l))}).displayName=c.wv.displayName},2462:(e,t,a)=>{a.r(t),a.d(t,{default:()=>j});var s=a(9950),r=a(4245),l=a(9630),c=a(1111),n=a(4779),i=a(1455),d=a(3787),o=a(9201),x=a(7737),m=a(7255),g=a(3147),h=a(5391),u=a(6890),p=a(2033),f=a(4414);const j=()=>{const[e,t]=(0,s.useState)([]),[a,j]=(0,s.useState)([]),[N,A]=(0,s.useState)(""),[y,b]=(0,s.useState)("all"),[w,v]=(0,s.useState)("all"),[T,k]=(0,s.useState)(!0);(0,s.useEffect)(()=>{R()},[]),(0,s.useEffect)(()=>{C()},[e,N,y,w]);const R=async()=>{k(!0);try{await new Promise(e=>setTimeout(e,1e3));t([{id:1,ticker:"AAPL",targetPrice:200,triggerPrice:202.15,condition:"above",status:"triggered",createdAt:"2024-01-10T09:30:00Z",triggeredAt:"2024-01-12T14:25:00Z",email:"user@example.com",gain:2.15},{id:2,ticker:"MSFT",targetPrice:450,triggerPrice:445.8,condition:"below",status:"triggered",createdAt:"2024-01-08T11:15:00Z",triggeredAt:"2024-01-11T10:30:00Z",email:"user@example.com",gain:-4.2},{id:3,ticker:"GOOGL",targetPrice:140,triggerPrice:null,condition:"above",status:"expired",createdAt:"2024-01-05T16:20:00Z",expiredAt:"2024-01-15T16:20:00Z",email:"user@example.com",gain:null},{id:4,ticker:"TSLA",targetPrice:280,triggerPrice:null,condition:"above",status:"cancelled",createdAt:"2024-01-07T13:45:00Z",cancelledAt:"2024-01-09T09:15:00Z",email:"user@example.com",gain:null},{id:5,ticker:"NVDA",targetPrice:120,triggerPrice:125.3,condition:"above",status:"triggered",createdAt:"2024-01-06T08:00:00Z",triggeredAt:"2024-01-08T11:45:00Z",email:"user@example.com",gain:5.3}])}catch(e){p.oR.error("Failed to fetch alert history")}finally{k(!1)}},C=()=>{let t=[...e];if(N&&(t=t.filter(e=>e.ticker.toLowerCase().includes(N.toLowerCase()))),"all"!==y&&(t=t.filter(e=>e.status===y)),"all"!==w){const e=new Date,a=new Date(e.getFullYear(),e.getMonth(),e.getDate());t=t.filter(e=>{const t=new Date(e.createdAt);switch(w){case"today":return t>=a;case"week":return t>=new Date(a.getTime()-6048e5);case"month":return t>=new Date(a.getFullYear(),a.getMonth()-1,a.getDate());case"quarter":return t>=new Date(a.getFullYear(),a.getMonth()-3,a.getDate());default:return!0}})}j(t)},P=e=>{switch(e){case"triggered":return"bg-green-100 text-green-800";case"expired":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},L=e=>e?"$".concat(e.toFixed(2)):"N/A",S=e=>null===e?"N/A":"".concat(e>=0?"+":"","$").concat(e.toFixed(2)),D=(()=>{const t=e.filter(e=>"triggered"===e.status),a=t.reduce((e,t)=>e+(t.gain||0),0),s=t.length>0?a/t.length:0;return{total:e.length,triggered:t.length,expired:e.filter(e=>"expired"===e.status).length,cancelled:e.filter(e=>"cancelled"===e.status).length,totalGain:a,avgGain:s,successRate:e.length>0?t.length/e.length*100:0}})();return T?(0,f.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,f.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,f.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),(0,f.jsx)("div",{className:"h-20 bg-gray-200 rounded"}),(0,f.jsx)("div",{className:"h-96 bg-gray-200 rounded"})]})}):(0,f.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,f.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,f.jsxs)("div",{children:[(0,f.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Alert History"}),(0,f.jsx)("p",{className:"text-gray-600 mt-2",children:"Track your past price alerts and their outcomes"})]}),(0,f.jsxs)(c.$,{onClick:()=>{const e=["Ticker,Target Price,Trigger Price,Condition,Status,Created At,Triggered/Expired At,Gain/Loss",...a.map(e=>"".concat(e.ticker,",").concat(e.targetPrice,",").concat(e.triggerPrice||"N/A",",").concat(e.condition,",").concat(e.status,",").concat(new Date(e.createdAt).toLocaleString(),",").concat(e.triggeredAt?new Date(e.triggeredAt).toLocaleString():e.expiredAt?new Date(e.expiredAt).toLocaleString():"N/A",",").concat(S(e.gain)))].join("\n"),t=new Blob([e],{type:"text/csv"}),s=window.URL.createObjectURL(t),r=document.createElement("a");r.href=s,r.download="alert-history.csv",r.click(),window.URL.revokeObjectURL(s),p.oR.success("Alert history exported")},children:[(0,f.jsx)(m.A,{className:"h-4 w-4 mr-2"}),"Export CSV"]})]}),(0,f.jsxs)("div",{className:"grid gap-6",children:[(0,f.jsxs)("div",{className:"grid md:grid-cols-4 gap-4",children:[(0,f.jsx)(r.Zp,{children:(0,f.jsxs)(r.Wu,{className:"p-6 text-center",children:[(0,f.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:D.total}),(0,f.jsx)("div",{className:"text-sm text-gray-600",children:"Total Alerts"})]})}),(0,f.jsx)(r.Zp,{children:(0,f.jsxs)(r.Wu,{className:"p-6 text-center",children:[(0,f.jsx)("div",{className:"text-2xl font-bold text-green-600",children:D.triggered}),(0,f.jsx)("div",{className:"text-sm text-gray-600",children:"Triggered"})]})}),(0,f.jsx)(r.Zp,{children:(0,f.jsxs)(r.Wu,{className:"p-6 text-center",children:[(0,f.jsxs)("div",{className:"text-2xl font-bold text-orange-600",children:[D.successRate.toFixed(1),"%"]}),(0,f.jsx)("div",{className:"text-sm text-gray-600",children:"Success Rate"})]})}),(0,f.jsx)(r.Zp,{children:(0,f.jsxs)(r.Wu,{className:"p-6 text-center",children:[(0,f.jsx)("div",{className:"text-2xl font-bold ".concat(D.totalGain>=0?"text-green-600":"text-red-600"),children:S(D.totalGain)}),(0,f.jsx)("div",{className:"text-sm text-gray-600",children:"Total Gain/Loss"})]})})]}),(0,f.jsxs)(r.Zp,{children:[(0,f.jsx)(r.aR,{children:(0,f.jsx)(r.ZB,{children:"Filter & Search"})}),(0,f.jsx)(r.Wu,{children:(0,f.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4",children:[(0,f.jsxs)("div",{className:"relative flex-1",children:[(0,f.jsx)(g.A,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,f.jsx)(n.p,{placeholder:"Search by ticker...",value:N,onChange:e=>A(e.target.value),className:"pl-10"})]}),(0,f.jsxs)(i.l6,{value:y,onValueChange:b,children:[(0,f.jsx)(i.bq,{className:"w-full lg:w-48",children:(0,f.jsx)(i.yv,{})}),(0,f.jsx)(i.gC,{children:[{value:"all",label:"All Status"},{value:"triggered",label:"Triggered"},{value:"expired",label:"Expired"},{value:"cancelled",label:"Cancelled"}].map(e=>(0,f.jsx)(i.eb,{value:e.value,children:e.label},e.value))})]}),(0,f.jsxs)(i.l6,{value:w,onValueChange:v,children:[(0,f.jsx)(i.bq,{className:"w-full lg:w-48",children:(0,f.jsx)(i.yv,{})}),(0,f.jsx)(i.gC,{children:[{value:"all",label:"All Time"},{value:"today",label:"Today"},{value:"week",label:"This Week"},{value:"month",label:"This Month"},{value:"quarter",label:"This Quarter"}].map(e=>(0,f.jsx)(i.eb,{value:e.value,children:e.label},e.value))})]})]})})]}),(0,f.jsxs)(r.Zp,{children:[(0,f.jsx)(r.aR,{children:(0,f.jsxs)(r.ZB,{children:["Alert History (",a.length," results)"]})}),(0,f.jsx)(r.Wu,{children:a.length>0?(0,f.jsx)("div",{className:"overflow-x-auto",children:(0,f.jsxs)(d.XI,{children:[(0,f.jsx)(d.A0,{children:(0,f.jsxs)(d.Hj,{children:[(0,f.jsx)(d.nd,{children:"Ticker"}),(0,f.jsx)(d.nd,{children:"Target Price"}),(0,f.jsx)(d.nd,{children:"Trigger Price"}),(0,f.jsx)(d.nd,{children:"Condition"}),(0,f.jsx)(d.nd,{children:"Status"}),(0,f.jsx)(d.nd,{children:"Created"}),(0,f.jsx)(d.nd,{children:"Completed"}),(0,f.jsx)(d.nd,{children:"Gain/Loss"})]})}),(0,f.jsx)(d.BF,{children:a.map(e=>{return(0,f.jsxs)(d.Hj,{children:[(0,f.jsx)(d.nA,{className:"font-semibold",children:e.ticker}),(0,f.jsx)(d.nA,{children:L(e.targetPrice)}),(0,f.jsx)(d.nA,{children:L(e.triggerPrice)}),(0,f.jsx)(d.nA,{children:(0,f.jsxs)("div",{className:"flex items-center gap-1",children:[(t=e.condition,"above"===t?(0,f.jsx)(u.A,{className:"h-4 w-4 text-green-600"}):(0,f.jsx)(h.A,{className:"h-4 w-4 text-red-600"})),e.condition]})}),(0,f.jsx)(d.nA,{children:(0,f.jsx)(l.E,{className:P(e.status),children:e.status})}),(0,f.jsx)(d.nA,{className:"text-sm",children:(0,f.jsxs)("div",{className:"flex items-center gap-1",children:[(0,f.jsx)(o.A,{className:"h-3 w-3 text-gray-400"}),new Date(e.createdAt).toLocaleDateString()]})}),(0,f.jsx)(d.nA,{className:"text-sm",children:e.triggeredAt?(0,f.jsxs)("div",{className:"flex items-center gap-1",children:[(0,f.jsx)(x.A,{className:"h-3 w-3 text-gray-400"}),new Date(e.triggeredAt).toLocaleDateString()]}):e.expiredAt?(0,f.jsxs)("div",{className:"flex items-center gap-1",children:[(0,f.jsx)(x.A,{className:"h-3 w-3 text-gray-400"}),new Date(e.expiredAt).toLocaleDateString()]}):"N/A"}),(0,f.jsx)(d.nA,{children:(0,f.jsx)("span",{className:"font-medium ".concat(null!==e.gain?e.gain>=0?"text-green-600":"text-red-600":"text-gray-500"),children:S(e.gain)})})]},e.id);var t})})]})}):(0,f.jsxs)("div",{className:"text-center py-12",children:[(0,f.jsx)("div",{className:"text-gray-500 mb-4",children:"No alert history found"}),(0,f.jsx)(c.$,{onClick:()=>{A(""),b("all"),v("all")},children:"Clear Filters"})]})})]})]})]})}},3787:(e,t,a)=>{a.d(t,{A0:()=>f,BF:()=>j,Hj:()=>N,XI:()=>p,nA:()=>y,nd:()=>A});var s=a(2555),r=a(3986),l=a(9950),c=a(90),n=a(4414);const i=["className"],d=["className"],o=["className"],x=["className"],m=["className"],g=["className"],h=["className"],u=["className"],p=l.forwardRef((e,t)=>{let{className:a}=e,l=(0,r.A)(e,i);return(0,n.jsx)("div",{className:"relative w-full overflow-auto",children:(0,n.jsx)("table",(0,s.A)({ref:t,className:(0,c.cn)("w-full caption-bottom text-sm",a)},l))})});p.displayName="Table";const f=l.forwardRef((e,t)=>{let{className:a}=e,l=(0,r.A)(e,d);return(0,n.jsx)("thead",(0,s.A)({ref:t,className:(0,c.cn)("[&_tr]:border-b",a)},l))});f.displayName="TableHeader";const j=l.forwardRef((e,t)=>{let{className:a}=e,l=(0,r.A)(e,o);return(0,n.jsx)("tbody",(0,s.A)({ref:t,className:(0,c.cn)("[&_tr:last-child]:border-0",a)},l))});j.displayName="TableBody";l.forwardRef((e,t)=>{let{className:a}=e,l=(0,r.A)(e,x);return(0,n.jsx)("tfoot",(0,s.A)({ref:t,className:(0,c.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a)},l))}).displayName="TableFooter";const N=l.forwardRef((e,t)=>{let{className:a}=e,l=(0,r.A)(e,m);return(0,n.jsx)("tr",(0,s.A)({ref:t,className:(0,c.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a)},l))});N.displayName="TableRow";const A=l.forwardRef((e,t)=>{let{className:a}=e,l=(0,r.A)(e,g);return(0,n.jsx)("th",(0,s.A)({ref:t,className:(0,c.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a)},l))});A.displayName="TableHead";const y=l.forwardRef((e,t)=>{let{className:a}=e,l=(0,r.A)(e,h);return(0,n.jsx)("td",(0,s.A)({ref:t,className:(0,c.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",a)},l))});y.displayName="TableCell";l.forwardRef((e,t)=>{let{className:a}=e,l=(0,r.A)(e,u);return(0,n.jsx)("caption",(0,s.A)({ref:t,className:(0,c.cn)("mt-4 text-sm text-muted-foreground",a)},l))}).displayName="TableCaption"},5391:(e,t,a)=>{a.d(t,{A:()=>s});const s=(0,a(6230).A)("trending-down",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]])},7255:(e,t,a)=>{a.d(t,{A:()=>s});const s=(0,a(6230).A)("download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},9201:(e,t,a)=>{a.d(t,{A:()=>s});const s=(0,a(6230).A)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])}}]);