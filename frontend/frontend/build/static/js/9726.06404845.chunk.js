/*! For license information please see 9726.06404845.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[9726],{854:(e,s,a)=>{a.d(s,{E:()=>i});var t=a(2555),l=a(3986),c=a(90),r=a(4414);const n=["className"];function i(e){let{className:s}=e,a=(0,l.A)(e,n);return(0,r.jsx)("div",(0,t.A)({className:(0,c.cn)("skeleton rounded-md",s)},a))}},2607:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(6230).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},4215:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(6230).A)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},4814:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(6230).A)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},5184:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(6230).A)("chart-pie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]])},5391:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(6230).A)("trending-down",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]])},9636:(e,s,a)=>{a.d(s,{Cf:()=>f,L3:()=>v,c7:()=>y,lG:()=>j,rr:()=>b,zM:()=>p});var t=a(2555),l=a(3986),c=a(9950),r=a(4174),n=a(6479),i=a(90),d=a(4414);const o=["className"],m=["className","children"],x=["className"],h=["className"],u=["className"],j=r.bL,p=r.l9,g=r.ZL,N=(r.bm,c.forwardRef((e,s)=>{let{className:a}=e,c=(0,l.A)(e,o);return(0,d.jsx)(r.hJ,(0,t.A)({ref:s,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a)},c))}));N.displayName=r.hJ.displayName;const f=c.forwardRef((e,s)=>{let{className:a,children:c}=e,o=(0,l.A)(e,m);return(0,d.jsxs)(g,{children:[(0,d.jsx)(N,{}),(0,d.jsxs)(r.UC,(0,t.A)((0,t.A)({ref:s,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a)},o),{},{children:[c,(0,d.jsxs)(r.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,d.jsx)(n.A,{className:"h-4 w-4"}),(0,d.jsx)("span",{className:"sr-only",children:"Close"})]})]}))]})});f.displayName=r.UC.displayName;const y=e=>{let{className:s}=e,a=(0,l.A)(e,x);return(0,d.jsx)("div",(0,t.A)({className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",s)},a))};y.displayName="DialogHeader";const v=c.forwardRef((e,s)=>{let{className:a}=e,c=(0,l.A)(e,h);return(0,d.jsx)(r.hE,(0,t.A)({ref:s,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",a)},c))});v.displayName=r.hE.displayName;const b=c.forwardRef((e,s)=>{let{className:a}=e,c=(0,l.A)(e,u);return(0,d.jsx)(r.VY,(0,t.A)({ref:s,className:(0,i.cn)("text-sm text-muted-foreground",a)},c))});b.displayName=r.VY.displayName},9726:(e,s,a)=>{a.r(s),a.d(s,{default:()=>_});var t=a(2555),l=a(9950),c=a(827),r=a(1111),n=a(4245),i=a(4779),d=a(6607),o=(a(9630),a(854)),m=a(9636),x=a(2033),h=a(8134),u=a(5184),j=a(4215),p=a(7838),g=a(2607),N=a(4814),f=a(5391),y=a(6890),v=a(5508),b=a(4414);const _=()=>{var e;const[s,a]=(0,l.useState)(!0),[_,A]=(0,l.useState)(null),[w,k]=(0,l.useState)(!1),[C,R]=(0,l.useState)({symbol:"",shares:"",avg_cost:"",portfolio_name:"My Portfolio"});(0,l.useEffect)(()=>{S()},[]);const S=async()=>{try{const e=await(0,v.h0)();e&&e.success?A(e):A({success:!0,data:[],summary:{total_value:0,total_gain_loss:0,total_gain_loss_percent:0,total_holdings:0}})}catch(e){A({success:!0,data:[],summary:{total_value:0,total_gain_loss:0,total_gain_loss_percent:0,total_holdings:0}}),x.oR.error("Failed to load portfolio")}finally{a(!1)}},F=async(e,s)=>{if(confirm("Are you sure you want to remove ".concat(s," from your portfolio?")))try{(await(0,v.om)(e)).success?(x.oR.success("".concat(s," removed from portfolio")),S()):x.oR.error("Failed to remove holding")}catch(a){x.oR.error("Failed to remove holding")}},z=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),M=e=>"".concat(e>0?"+":"").concat(e.toFixed(2),"%");return s?(0,b.jsx)("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)(o.E,{className:"h-8 w-48"}),(0,b.jsx)(o.E,{className:"h-10 w-32"})]}),(0,b.jsx)("div",{className:"grid md:grid-cols-4 gap-6",children:[1,2,3,4].map(e=>(0,b.jsx)(n.Zp,{children:(0,b.jsxs)(n.Wu,{className:"p-6",children:[(0,b.jsx)(o.E,{className:"h-8 w-16 mb-2"}),(0,b.jsx)(o.E,{className:"h-4 w-24"})]})},e))})]})}):(0,b.jsx)("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Portfolio"}),(0,b.jsx)("p",{className:"text-gray-600 mt-2",children:"Track your investments and performance"})]}),(0,b.jsxs)(m.lG,{open:w,onOpenChange:k,children:[(0,b.jsx)(m.zM,{asChild:!0,children:(0,b.jsxs)(r.$,{children:[(0,b.jsx)(g.A,{className:"h-4 w-4 mr-2"}),"Add Holding"]})}),(0,b.jsxs)(m.Cf,{children:[(0,b.jsxs)(m.c7,{children:[(0,b.jsx)(m.L3,{children:"Add New Holding"}),(0,b.jsx)(m.rr,{children:"Add a stock to your portfolio to track its performance"})]}),(0,b.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),C.symbol&&C.shares&&C.avg_cost)try{const e=await(0,v.Gg)({symbol:C.symbol.toUpperCase(),shares:parseFloat(C.shares),avg_cost:parseFloat(C.avg_cost),portfolio_name:C.portfolio_name});e.success?(x.oR.success("".concat(C.symbol.toUpperCase()," added to portfolio")),R({symbol:"",shares:"",avg_cost:"",portfolio_name:"My Portfolio"}),k(!1),S()):x.oR.error(e.message||"Failed to add holding")}catch(s){x.oR.error("Failed to add holding to portfolio")}else x.oR.error("Please fill in all required fields")},className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(d.J,{htmlFor:"symbol",children:"Stock Symbol"}),(0,b.jsx)(i.p,{id:"symbol",placeholder:"e.g. AAPL",value:C.symbol,onChange:e=>R((0,t.A)((0,t.A)({},C),{},{symbol:e.target.value})),required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(d.J,{htmlFor:"shares",children:"Number of Shares"}),(0,b.jsx)(i.p,{id:"shares",type:"number",step:"0.01",placeholder:"e.g. 100",value:C.shares,onChange:e=>R((0,t.A)((0,t.A)({},C),{},{shares:e.target.value})),required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(d.J,{htmlFor:"avg_cost",children:"Average Cost per Share"}),(0,b.jsx)(i.p,{id:"avg_cost",type:"number",step:"0.01",placeholder:"e.g. 150.25",value:C.avg_cost,onChange:e=>R((0,t.A)((0,t.A)({},C),{},{avg_cost:e.target.value})),required:!0})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(r.$,{type:"submit",className:"flex-1",children:"Add Holding"}),(0,b.jsx)(r.$,{type:"button",variant:"outline",onClick:()=>k(!1),children:"Cancel"})]})]})]})]})]}),(null===_||void 0===_?void 0:_.summary)&&(0,b.jsxs)("div",{className:"grid md:grid-cols-4 gap-6",children:[(0,b.jsx)(n.Zp,{children:(0,b.jsx)(n.Wu,{className:"p-6",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Value"}),(0,b.jsx)("p",{className:"text-2xl font-bold",children:z(_.summary.total_value)})]}),(0,b.jsx)(j.A,{className:"h-8 w-8 text-blue-500"})]})})}),(0,b.jsx)(n.Zp,{children:(0,b.jsx)(n.Wu,{className:"p-6",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total P&L"}),(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)("p",{className:"text-2xl font-bold ".concat(_.summary.total_gain_loss>=0?"text-green-600":"text-red-600"),children:z(_.summary.total_gain_loss)}),_.summary.total_gain_loss>=0?(0,b.jsx)(y.A,{className:"h-5 w-5 text-green-500 ml-2"}):(0,b.jsx)(f.A,{className:"h-5 w-5 text-red-500 ml-2"})]})]}),(0,b.jsx)(h.A,{className:"h-8 w-8 text-green-500"})]})})}),(0,b.jsx)(n.Zp,{children:(0,b.jsx)(n.Wu,{className:"p-6",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Return"}),(0,b.jsx)("p",{className:"text-2xl font-bold ".concat(_.summary.total_gain_loss_percent>=0?"text-green-600":"text-red-600"),children:M(_.summary.total_gain_loss_percent)})]}),(0,b.jsx)(y.A,{className:"h-8 w-8 text-green-500"})]})})}),(0,b.jsx)(n.Zp,{children:(0,b.jsx)(n.Wu,{className:"p-6",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Holdings"}),(0,b.jsx)("p",{className:"text-2xl font-bold",children:_.summary.total_holdings})]}),(0,b.jsx)(u.A,{className:"h-8 w-8 text-purple-500"})]})})})]}),(0,b.jsxs)(n.Zp,{children:[(0,b.jsxs)(n.aR,{children:[(0,b.jsx)(n.ZB,{children:"Your Holdings"}),(0,b.jsx)(n.BT,{children:"Detailed view of your portfolio positions"})]}),(0,b.jsx)(n.Wu,{children:(null===_||void 0===_||null===(e=_.data)||void 0===e?void 0:e.length)>0?(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("div",{className:"hidden lg:block overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b bg-gray-50",children:[(0,b.jsx)("th",{className:"text-left p-4 font-medium",children:"Symbol"}),(0,b.jsx)("th",{className:"text-right p-4 font-medium",children:"Shares"}),(0,b.jsx)("th",{className:"text-right p-4 font-medium",children:"Avg Cost"}),(0,b.jsx)("th",{className:"text-right p-4 font-medium",children:"Current Price"}),(0,b.jsx)("th",{className:"text-right p-4 font-medium",children:"Total Value"}),(0,b.jsx)("th",{className:"text-right p-4 font-medium",children:"P&L"}),(0,b.jsx)("th",{className:"text-right p-4 font-medium",children:"% Return"}),(0,b.jsx)("th",{className:"text-center p-4 font-medium",children:"Actions"})]})}),(0,b.jsx)("tbody",{children:_.data.map(e=>(0,b.jsxs)("tr",{className:"border-b hover:bg-gray-50",children:[(0,b.jsx)("td",{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,b.jsx)("span",{className:"font-bold text-blue-600 text-sm",children:e.symbol.substring(0,2)})}),(0,b.jsx)("div",{children:(0,b.jsx)(c.N_,{to:"/app/stocks/".concat(e.symbol),className:"font-semibold text-blue-600 hover:underline",children:e.symbol})})]})}),(0,b.jsx)("td",{className:"p-4 text-right",children:e.shares}),(0,b.jsx)("td",{className:"p-4 text-right",children:z(e.avg_cost)}),(0,b.jsx)("td",{className:"p-4 text-right font-medium",children:z(e.current_price)}),(0,b.jsx)("td",{className:"p-4 text-right font-medium",children:z(e.total_value)}),(0,b.jsx)("td",{className:"p-4 text-right font-medium ".concat(e.gain_loss>=0?"text-green-600":"text-red-600"),children:z(e.gain_loss)}),(0,b.jsx)("td",{className:"p-4 text-right font-medium ".concat(e.gain_loss_percent>=0?"text-green-600":"text-red-600"),children:(0,b.jsxs)("div",{className:"flex items-center justify-end",children:[e.gain_loss_percent>=0?(0,b.jsx)(y.A,{className:"h-3 w-3 mr-1"}):(0,b.jsx)(f.A,{className:"h-3 w-3 mr-1"}),M(e.gain_loss_percent)]})}),(0,b.jsx)("td",{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,b.jsx)(r.$,{size:"sm",variant:"ghost",asChild:!0,title:"View Details",children:(0,b.jsx)(c.N_,{to:"/app/stocks/".concat(e.symbol),children:(0,b.jsx)(p.A,{className:"h-4 w-4"})})}),(0,b.jsx)(r.$,{size:"sm",variant:"ghost",onClick:()=>F(e.id,e.symbol),className:"text-red-600 hover:text-red-700",title:"Remove Holding",children:(0,b.jsx)(N.A,{className:"h-4 w-4"})})]})})]},e.id))})]})}),(0,b.jsx)("div",{className:"lg:hidden space-y-4",children:_.data.map(e=>(0,b.jsx)(n.Zp,{className:"hover:shadow-md transition-shadow",children:(0,b.jsxs)(n.Wu,{className:"p-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,b.jsx)("span",{className:"font-bold text-blue-600",children:e.symbol.substring(0,2)})}),(0,b.jsxs)("div",{children:[(0,b.jsx)(c.N_,{to:"/app/stocks/".concat(e.symbol),className:"font-semibold text-blue-600 hover:underline",children:e.symbol}),(0,b.jsxs)("div",{className:"text-sm text-gray-600",children:[e.shares," shares"]})]})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsx)("div",{className:"font-semibold text-lg",children:z(e.total_value)}),(0,b.jsxs)("div",{className:"text-sm font-medium ".concat(e.gain_loss_percent>=0?"text-green-600":"text-red-600"," flex items-center justify-end"),children:[e.gain_loss_percent>=0?(0,b.jsx)(y.A,{className:"h-3 w-3 mr-1"}):(0,b.jsx)(f.A,{className:"h-3 w-3 mr-1"}),M(e.gain_loss_percent)]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-gray-500",children:"Avg Cost"}),(0,b.jsx)("div",{className:"font-medium",children:z(e.avg_cost)})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-gray-500",children:"Current Price"}),(0,b.jsx)("div",{className:"font-medium",children:z(e.current_price)})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-gray-500",children:"P&L"}),(0,b.jsx)("div",{className:"font-medium ".concat(e.gain_loss>=0?"text-green-600":"text-red-600"),children:z(e.gain_loss)})]}),(0,b.jsxs)("div",{className:"flex space-x-2",children:[(0,b.jsx)(r.$,{size:"sm",variant:"ghost",asChild:!0,children:(0,b.jsx)(c.N_,{to:"/app/stocks/".concat(e.symbol),children:(0,b.jsx)(p.A,{className:"h-4 w-4"})})}),(0,b.jsx)(r.$,{size:"sm",variant:"ghost",onClick:()=>F(e.id,e.symbol),className:"text-red-600",children:(0,b.jsx)(N.A,{className:"h-4 w-4"})})]})]})]})},e.id))})]}):(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)(u.A,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),(0,b.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No holdings yet"}),(0,b.jsx)("p",{className:"text-gray-600 mb-4",children:"Start tracking your investments by adding your first stock holding"}),(0,b.jsxs)(r.$,{onClick:()=>k(!0),children:[(0,b.jsx)(g.A,{className:"h-4 w-4 mr-2"}),"Add Your First Holding"]})]})})]})]})})}}}]);