/*! For license information please see 7758.87822ec9.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[7758],{621:(e,a,s)=>{s.d(a,{A:()=>r});const r=(0,s(6230).A)("play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]])},1455:(e,a,s)=>{s.d(a,{bq:()=>g,eb:()=>k,gC:()=>A,l6:()=>v,yv:()=>y});var r=s(2555),i=s(3986),n=s(9950),t=s(2766),l=s(6311),d=s(7453),c=s(7684),o=s(90),m=s(4414);const x=["className","children"],h=["className"],p=["className"],u=["className","children","position"],f=["className"],j=["className","children"],N=["className"],v=t.bL,y=(t.YJ,t.WT),g=n.forwardRef((e,a)=>{let{className:s,children:n}=e,l=(0,i.A)(e,x);return(0,m.jsxs)(t.l9,(0,r.A)((0,r.A)({ref:a,className:(0,o.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s)},l),{},{children:[n,(0,m.jsx)(t.In,{asChild:!0,children:(0,m.jsx)(d.A,{className:"h-4 w-4 opacity-50"})})]}))});g.displayName=t.l9.displayName;const b=n.forwardRef((e,a)=>{let{className:s}=e,n=(0,i.A)(e,h);return(0,m.jsx)(t.PP,(0,r.A)((0,r.A)({ref:a,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",s)},n),{},{children:(0,m.jsx)(c.A,{className:"h-4 w-4"})}))});b.displayName=t.PP.displayName;const w=n.forwardRef((e,a)=>{let{className:s}=e,n=(0,i.A)(e,p);return(0,m.jsx)(t.wn,(0,r.A)((0,r.A)({ref:a,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",s)},n),{},{children:(0,m.jsx)(d.A,{className:"h-4 w-4"})}))});w.displayName=t.wn.displayName;const A=n.forwardRef((e,a)=>{let{className:s,children:n,position:l="popper"}=e,d=(0,i.A)(e,u);return(0,m.jsx)(t.ZL,{children:(0,m.jsxs)(t.UC,(0,r.A)((0,r.A)({ref:a,className:(0,o.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:l},d),{},{children:[(0,m.jsx)(b,{}),(0,m.jsx)(t.LM,{className:(0,o.cn)("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:n}),(0,m.jsx)(w,{})]}))})});A.displayName=t.UC.displayName;n.forwardRef((e,a)=>{let{className:s}=e,n=(0,i.A)(e,f);return(0,m.jsx)(t.JU,(0,r.A)({ref:a,className:(0,o.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",s)},n))}).displayName=t.JU.displayName;const k=n.forwardRef((e,a)=>{let{className:s,children:n}=e,d=(0,i.A)(e,j);return(0,m.jsxs)(t.q7,(0,r.A)((0,r.A)({ref:a,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s)},d),{},{children:[(0,m.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,m.jsx)(t.VF,{children:(0,m.jsx)(l.A,{className:"h-4 w-4"})})}),(0,m.jsx)(t.p4,{children:n})]}))});k.displayName=t.q7.displayName;n.forwardRef((e,a)=>{let{className:s}=e,n=(0,i.A)(e,N);return(0,m.jsx)(t.wv,(0,r.A)({ref:a,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",s)},n))}).displayName=t.wv.displayName},1742:(e,a,s)=>{s.d(a,{A:()=>r});const r=(0,s(6230).A)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},7758:(e,a,s)=>{s.r(a),s.d(a,{default:()=>y});var r=s(2555),i=s(9950),n=s(827),t=s(1111),l=s(4245),d=s(4779),c=s(6607),o=s(1455),m=s(9093),x=s(9848),h=s(9630),p=s(621),u=s(1742),f=s(6479),j=s(2033),N=s(5508),v=s(4414);const y=()=>{const e=(0,n.Zp)(),[a,s]=(0,i.useState)({name:"",description:"",isPublic:!1}),[y,g]=(0,i.useState)([]),[b,w]=(0,i.useState)(!1),A=[{id:"market_cap",name:"Market Cap",type:"range"},{id:"price",name:"Stock Price",type:"range"},{id:"volume",name:"Volume",type:"range"},{id:"pe_ratio",name:"P/E Ratio",type:"range"},{id:"dividend_yield",name:"Dividend Yield",type:"range"},{id:"change_percent",name:"Price Change %",type:"range"},{id:"exchange",name:"Exchange",type:"select"}],k=(e,a,s)=>{g(y.map(i=>i.id===e?(0,r.A)((0,r.A)({},i),{},{[a]:s}):i))};return(0,v.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,v.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,v.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,v.jsxs)("div",{children:[(0,v.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Create Stock Screener"}),(0,v.jsx)("p",{className:"text-gray-600 mt-2",children:"Set up criteria to find stocks that match your strategy"})]}),(0,v.jsxs)("div",{className:"flex gap-2",children:[(0,v.jsxs)(t.$,{variant:"outline",onClick:async()=>{if(0!==y.length){w(!0);try{const a=(e=>{const a={};for(const s of e)"market_cap"===s.id&&(s.min&&(a.market_cap_min=Number(s.min)),s.max&&(a.market_cap_max=Number(s.max))),"price"===s.id&&(s.min&&(a.price_min=Number(s.min)),s.max&&(a.price_max=Number(s.max))),"volume"===s.id&&(s.min&&(a.volume_min=Number(s.min)),s.max&&(a.volume_max=Number(s.max))),"pe_ratio"===s.id&&(s.min&&(a.pe_ratio_min=Number(s.min)),s.max&&(a.pe_ratio_max=Number(s.max))),"dividend_yield"===s.id&&(s.min&&(a.dividend_yield_min=Number(s.min)),s.max&&(a.dividend_yield_max=Number(s.max))),"change_percent"===s.id&&(s.min&&(a.change_percent_min=Number(s.min)),s.max&&(a.change_percent_max=Number(s.max))),"exchange"===s.id&&s.value&&(a.exchange=s.value);return a})(y),s=await(0,N.qm)(a),r=(Array.isArray(null===s||void 0===s?void 0:s.results)?s.results:Array.isArray(s)?s:[]).length||0;window.localStorage.setItem("screener:lastParams",JSON.stringify(a)),j.oR.success("Found ".concat(r," matching stocks")),e("/app/screeners/adhoc/results")}catch(a){j.oR.error("Failed to test screener")}finally{w(!1)}}else j.oR.error("Please add at least one criterion")},disabled:b,children:[(0,v.jsx)(p.A,{className:"h-4 w-4 mr-2"}),"Test Run"]}),(0,v.jsxs)(t.$,{onClick:async()=>{if(a.name.trim())if(0!==y.length){w(!0);try{await new Promise(e=>setTimeout(e,1e3)),j.oR.success("Screener saved successfully"),e("/app/screeners")}catch(s){j.oR.error("Failed to save screener")}finally{w(!1)}}else j.oR.error("Please add at least one criterion");else j.oR.error("Please enter a screener name")},disabled:b,children:[(0,v.jsx)(u.A,{className:"h-4 w-4 mr-2"}),"Save Screener"]})]})]}),(0,v.jsxs)("div",{className:"grid gap-6 lg:grid-cols-3",children:[(0,v.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,v.jsxs)(l.Zp,{children:[(0,v.jsxs)(l.aR,{children:[(0,v.jsx)(l.ZB,{children:"Basic Information"}),(0,v.jsx)(l.BT,{children:"Give your screener a name and description"})]}),(0,v.jsxs)(l.Wu,{className:"space-y-4",children:[(0,v.jsxs)("div",{children:[(0,v.jsx)(c.J,{htmlFor:"name",children:"Screener Name"}),(0,v.jsx)(d.p,{id:"name",value:a.name,onChange:e=>s((0,r.A)((0,r.A)({},a),{},{name:e.target.value})),placeholder:"e.g., High Dividend Value Stocks"})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)(c.J,{htmlFor:"description",children:"Description"}),(0,v.jsx)(m.T,{id:"description",value:a.description,onChange:e=>s((0,r.A)((0,r.A)({},a),{},{description:e.target.value})),placeholder:"Describe what this screener looks for...",rows:3})]})]})]}),(0,v.jsxs)(l.Zp,{children:[(0,v.jsxs)(l.aR,{children:[(0,v.jsx)(l.ZB,{children:"Screening Criteria"}),(0,v.jsx)(l.BT,{children:"Add filters to narrow down your stock selection"})]}),(0,v.jsxs)(l.Wu,{children:[(0,v.jsx)("div",{className:"mb-4",children:(0,v.jsxs)(o.l6,{onValueChange:e=>{const a=A.find(a=>a.id===e);if(!a||y.some(a=>a.id===e))return;const s={id:e,name:a.name,type:a.type,min:"",max:"",value:""};g([...y,s])},children:[(0,v.jsx)(o.bq,{children:(0,v.jsx)(o.yv,{placeholder:"Add a criterion"})}),(0,v.jsx)(o.gC,{children:A.filter(e=>!y.some(a=>a.id===e.id)).map(e=>(0,v.jsx)(o.eb,{value:e.id,children:e.name},e.id))})]})}),(0,v.jsx)("div",{className:"space-y-4",children:y.map(e=>(0,v.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,v.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,v.jsx)(h.E,{variant:"outline",children:e.name}),(0,v.jsx)(t.$,{size:"sm",variant:"ghost",onClick:()=>{return a=e.id,void g(y.filter(e=>e.id!==a));var a},children:(0,v.jsx)(f.A,{className:"h-4 w-4"})})]}),"range"===e.type&&(0,v.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,v.jsxs)("div",{children:[(0,v.jsx)(c.J,{children:"Minimum"}),(0,v.jsx)(d.p,{type:"number",value:e.min,onChange:a=>k(e.id,"min",a.target.value),placeholder:"Min value"})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)(c.J,{children:"Maximum"}),(0,v.jsx)(d.p,{type:"number",value:e.max,onChange:a=>k(e.id,"max",a.target.value),placeholder:"Max value"})]})]}),"select"===e.type&&"exchange"===e.id&&(0,v.jsxs)(o.l6,{onValueChange:a=>k(e.id,"value",a),children:[(0,v.jsx)(o.bq,{children:(0,v.jsx)(o.yv,{placeholder:"Select exchange"})}),(0,v.jsxs)(o.gC,{children:[(0,v.jsx)(o.eb,{value:"NYSE",children:"NYSE"}),(0,v.jsx)(o.eb,{value:"NASDAQ",children:"NASDAQ"}),(0,v.jsx)(o.eb,{value:"AMEX",children:"AMEX"})]})]})]},e.id))}),0===y.length&&(0,v.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No criteria added yet. Select from the dropdown above to add filters."})]})]})]}),(0,v.jsx)("div",{children:(0,v.jsxs)(l.Zp,{children:[(0,v.jsx)(l.aR,{children:(0,v.jsx)(l.ZB,{children:"Quick Stats"})}),(0,v.jsxs)(l.Wu,{children:[(0,v.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,v.jsxs)("div",{className:"flex justify-between",children:[(0,v.jsx)("span",{className:"text-gray-600",children:"Criteria Count"}),(0,v.jsx)("span",{className:"font-semibold",children:y.length})]}),(0,v.jsxs)("div",{className:"flex justify-between",children:[(0,v.jsx)("span",{className:"text-gray-600",children:"Expected Matches"}),(0,v.jsx)("span",{className:"font-semibold text-blue-600",children:"~15-50"})]}),(0,v.jsxs)("div",{className:"flex justify-between",children:[(0,v.jsx)("span",{className:"text-gray-600",children:"Last Test Run"}),(0,v.jsx)("span",{className:"font-semibold",children:"Never"})]})]}),(0,v.jsx)(x.w,{className:"my-4"}),(0,v.jsx)("div",{className:"text-xs text-gray-500",children:'Click "Test Run" to see how many stocks match your current criteria.'})]})]})})]})]})})}},9093:(e,a,s)=>{s.d(a,{T:()=>c});var r=s(2555),i=s(3986),n=s(9950),t=s(90),l=s(4414);const d=["className"],c=n.forwardRef((e,a)=>{let{className:s}=e,n=(0,i.A)(e,d);return(0,l.jsx)("textarea",(0,r.A)({className:(0,t.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:a},n))});c.displayName="Textarea"},9848:(e,a,s)=>{s.d(a,{w:()=>u});var r=s(2555),i=s(3986),n=s(9950),t=s(4835),l=s(4414);const d=["decorative","orientation"];var c="horizontal",o=["horizontal","vertical"],m=n.forwardRef((e,a)=>{const{decorative:s,orientation:n=c}=e,m=(0,i.A)(e,d),x=function(e){return o.includes(e)}(n)?n:c,h=s?{role:"none"}:{"aria-orientation":"vertical"===x?x:void 0,role:"separator"};return(0,l.jsx)(t.sG.div,(0,r.A)((0,r.A)((0,r.A)({"data-orientation":x},h),m),{},{ref:a}))});m.displayName="Separator";var x=m,h=s(90);const p=["className","orientation","decorative"],u=n.forwardRef((e,a)=>{let{className:s,orientation:n="horizontal",decorative:t=!0}=e,d=(0,i.A)(e,p);return(0,l.jsx)(x,(0,r.A)({ref:a,decorative:t,orientation:n,className:(0,h.cn)("shrink-0 bg-border","horizontal"===n?"h-[1px] w-full":"h-full w-[1px]",s)},d))});u.displayName=x.displayName}}]);