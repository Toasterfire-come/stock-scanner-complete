"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[2474],{2474:(e,s,t)=>{t.r(s),t.d(s,{default:()=>d});var a=t(9950),n=t(4245),i=t(1111),r=t(5508),c=t(4414);function d(){const[e,s]=(0,a.useState)([]),[t,d]=(0,a.useState)({total_unread:0}),l=async()=>{try{const{data:e}=await r.FH.get("/notifications/history/");s(e.data||[]),d(e.summary||{total_unread:0})}catch(e){}};(0,a.useEffect)(()=>{l()},[]);return(0,c.jsxs)(n.Zp,{children:[(0,c.jsx)(n.aR,{children:(0,c.jsxs)(n.ZB,{className:"flex items-center justify-between",children:["Notifications ",(0,c.jsxs)("span",{className:"text-sm text-muted-foreground",children:["Unread: ",t.total_unread]})]})}),(0,c.jsxs)(n.Wu,{className:"space-y-2",children:[(0,c.jsx)(i.$,{size:"sm",onClick:async()=>{await r.FH.post("/notifications/mark-read/",{mark_all:!0}),l()},children:"Mark all read"}),(0,c.jsx)("div",{className:"divide-y",children:e.map(e=>(0,c.jsxs)("div",{className:"py-2 text-sm flex items-center justify-between",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:"font-medium",children:e.title}),(0,c.jsx)("div",{className:"text-muted-foreground",children:e.message})]}),!e.is_read&&(0,c.jsx)("span",{className:"text-xs text-amber-600",children:"new"})]},e.id))})]})]})}}}]);