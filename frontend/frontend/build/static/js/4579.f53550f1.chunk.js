/*! For license information please see 4579.f53550f1.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[4579],{2989:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(6230).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},4579:(e,t,s)=>{s.r(t),s.d(t,{default:()=>o});var a=s(9950),r=s(827),n=s(3899),i=s(2828),c=s(2989),l=s(7413),d=s(4414);function o(){const e=(0,r.Zp)(),[t]=(0,r.ok)(),{login:s}=(0,n.A)(),[o,u]=(0,a.useState)(""),[m,x]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{(async()=>{try{const a=t.get("code"),r=(t.get("state"),t.get("error"));if(r)throw new Error("OAuth error: ".concat(r));if(!a)throw new Error("Authorization code not received");const n=await s("oauth_user","oauth_password");if(!n.success)throw new Error(n.error||"OAuth login failed");e("/app/dashboard")}catch(a){u(a.message),x(!1)}})()},[t,s,e]),m?(0,d.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)(c.A,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),(0,d.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Completing sign in..."}),(0,d.jsx)("p",{className:"text-gray-600",children:"Please wait while we process your authentication."})]})}):(0,d.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4 sm:px-6 lg:px-8",children:(0,d.jsxs)("div",{className:"max-w-md w-full",children:[(0,d.jsxs)(l.Fc,{variant:"destructive",children:[(0,d.jsx)(i.A,{className:"h-4 w-4"}),(0,d.jsx)(l.TN,{className:"mb-4",children:o})]}),(0,d.jsx)("div",{className:"text-center mt-6",children:(0,d.jsx)("button",{onClick:()=>e("/auth/sign-in"),className:"text-blue-600 hover:text-blue-500 font-medium",children:"Return to sign in"})})]})})}},7413:(e,t,s)=>{s.d(t,{Fc:()=>x,TN:()=>f});var a=s(2555),r=s(3986),n=s(9950),i=s(4364),c=s(90),l=s(4414);const d=["className","variant"],o=["className"],u=["className"],m=(0,i.F)("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),x=n.forwardRef((e,t)=>{let{className:s,variant:n}=e,i=(0,r.A)(e,d);return(0,l.jsx)("div",(0,a.A)({ref:t,role:"alert",className:(0,c.cn)(m({variant:n}),s)},i))});x.displayName="Alert";n.forwardRef((e,t)=>{let{className:s}=e,n=(0,r.A)(e,o);return(0,l.jsx)("h5",(0,a.A)({ref:t,className:(0,c.cn)("mb-1 font-medium leading-none tracking-tight",s)},n))}).displayName="AlertTitle";const f=n.forwardRef((e,t)=>{let{className:s}=e,n=(0,r.A)(e,u);return(0,l.jsx)("div",(0,a.A)({ref:t,className:(0,c.cn)("text-sm [&_p]:leading-relaxed",s)},n))});f.displayName="AlertDescription"}}]);