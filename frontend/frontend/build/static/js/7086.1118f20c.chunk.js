"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[7086],{7086:(e,s,l)=>{l.r(s),l.d(s,{default:()=>o});var a=l(9950),t=l(4245),d=l(1111),n=l(4779),i=l(5508),c=l(4414);function o(){var e,s,l,o,r,x,u,m,v,h;const[j,p]=(0,a.useState)([]),[g,f]=(0,a.useState)({}),[N,b]=(0,a.useState)(""),[y,_]=(0,a.useState)(""),[C,S]=(0,a.useState)(""),w=async()=>{const e=await(0,i.h0)();p(e.data||[]),f(e.summary||{})};(0,a.useEffect)(()=>{w()},[]);return(0,c.jsxs)("div",{className:"space-y-4",children:[(0,c.jsxs)(t.Zp,{children:[(0,c.jsx)(t.aR,{children:(0,c.jsx)(t.ZB,{className:"flex items-center justify-between",children:"Add Holding"})}),(0,c.jsxs)(t.Wu,{className:"grid md:grid-cols-4 gap-3",children:[(0,c.jsx)(n.p,{placeholder:"Symbol",value:N,onChange:e=>b(e.target.value.toUpperCase())}),(0,c.jsx)(n.p,{type:"number",placeholder:"Shares",value:y,onChange:e=>_(e.target.value)}),(0,c.jsx)(n.p,{type:"number",placeholder:"Avg cost",value:C,onChange:e=>S(e.target.value)}),(0,c.jsx)(d.$,{onClick:async()=>{N&&y&&C&&(await(0,i.Gg)({symbol:N,shares:Number(y),avg_cost:Number(C)}),b(""),_(""),S(""),w())},children:"Save"})]})]}),(0,c.jsxs)(t.Zp,{children:[(0,c.jsx)(t.aR,{children:(0,c.jsx)(t.ZB,{children:"Portfolio"})}),(0,c.jsxs)(t.Wu,{className:"space-y-2",children:[(0,c.jsxs)("div",{className:"grid md:grid-cols-4 gap-4 text-sm",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("span",{className:"text-muted-foreground",children:"Value"}),(0,c.jsxs)("div",{className:"text-xl font-semibold",children:["$",null!==(e=null===(s=g.total_value)||void 0===s||null===(l=s.toFixed)||void 0===l?void 0:l.call(s,2))&&void 0!==e?e:0]})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("span",{className:"text-muted-foreground",children:"P/L"}),(0,c.jsx)("div",{className:"text-xl font-semibold ".concat(g.total_gain_loss>0?"text-green-600":"text-red-600"),children:null!==(o=null===(r=g.total_gain_loss)||void 0===r||null===(x=r.toFixed)||void 0===x?void 0:x.call(r,2))&&void 0!==o?o:0})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("span",{className:"text-muted-foreground",children:"P/L %"}),(0,c.jsxs)("div",{className:"text-xl font-semibold",children:[null!==(u=null===(m=g.total_gain_loss_percent)||void 0===m||null===(v=m.toFixed)||void 0===v?void 0:v.call(m,2))&&void 0!==u?u:0,"%"]})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("span",{className:"text-muted-foreground",children:"Holdings"}),(0,c.jsx)("div",{className:"text-xl font-semibold",children:null!==(h=g.total_holdings)&&void 0!==h?h:0})]})]}),(0,c.jsx)("div",{className:"divide-y mt-4",children:j.map(e=>{var s,l,a;return(0,c.jsxs)("div",{className:"py-2 flex items-center justify-between text-sm",children:[(0,c.jsxs)("div",{className:"flex items-center gap-3",children:[(0,c.jsx)("span",{className:"font-medium",children:e.symbol}),(0,c.jsxs)("span",{className:"text-muted-foreground",children:[e.shares," sh @ $",e.avg_cost]})]}),(0,c.jsxs)("div",{className:"flex items-center gap-3",children:[(0,c.jsxs)("span",{children:["$",null!==(s=null===(l=e.total_value)||void 0===l||null===(a=l.toFixed)||void 0===a?void 0:a.call(l,2))&&void 0!==s?s:e.total_value]}),(0,c.jsx)(d.$,{variant:"outline",size:"sm",onClick:()=>(async e=>{await(0,i.om)(e),w()})(e.id),children:"Remove"})]})]},e.id)})})]})]})]})}}}]);