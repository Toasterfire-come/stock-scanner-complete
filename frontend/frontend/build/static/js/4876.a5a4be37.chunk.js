/*! For license information please see 4876.a5a4be37.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[4876],{854:(e,s,t)=>{t.d(s,{E:()=>i});var a=t(2555),l=t(3986),c=t(90),r=t(4414);const n=["className"];function i(e){let{className:s}=e,t=(0,l.A)(e,n);return(0,r.jsx)("div",(0,a.A)({className:(0,c.cn)("skeleton rounded-md",s)},t))}},2263:(e,s,t)=>{t.d(s,{A:()=>a});const a=(0,t(6230).A)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},2607:(e,s,t)=>{t.d(s,{A:()=>a});const a=(0,t(6230).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},4814:(e,s,t)=>{t.d(s,{A:()=>a});const a=(0,t(6230).A)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},4876:(e,s,t)=>{t.r(s),t.d(s,{default:()=>A});var a=t(2555),l=t(9950),c=t(827),r=t(1111),n=t(4245),i=t(4779),d=t(6607),o=t(9630),m=t(854),x=t(9636),h=t(2033),p=t(1850),j=t(7838),u=t(2607),N=t(3147),y=t(2263),f=t(4814),g=t(5391),v=t(6890),b=t(5508),w=t(4414);const A=()=>{var e,s;const[t,A]=(0,l.useState)(!0),[k,_]=(0,l.useState)(null),[C,S]=(0,l.useState)(!1),[W,F]=(0,l.useState)(""),[R,L]=(0,l.useState)({symbol:"",notes:"",alert_price:"",watchlist_name:"My Watchlist"});(0,l.useEffect)(()=>{z()},[]);const z=async()=>{try{const e=await(0,b.Qo)();e&&e.success?_(e):_({success:!0,data:[],summary:{total_items:0,gainers:0,losers:0,unchanged:0}})}catch(e){h.oR.error("Failed to load watchlist")}finally{A(!1)}},M=async(e,s)=>{if(confirm("Are you sure you want to remove ".concat(s," from your watchlist?")))try{(await(0,b.Z2)(e)).success?(h.oR.success("".concat(s," removed from watchlist")),z()):h.oR.error("Failed to remove from watchlist")}catch(t){h.oR.error("Failed to remove from watchlist")}},Z=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),E=e=>{const s=Number(e||0);return s>=1e9?"".concat((s/1e9).toFixed(1),"B"):s>=1e6?"".concat((s/1e6).toFixed(1),"M"):s>=1e3?"".concat((s/1e3).toFixed(0),"K"):s.toLocaleString()},$=e=>"".concat(e>0?"+":"").concat(e.toFixed(2),"%"),V=(null===k||void 0===k||null===(e=k.data)||void 0===e?void 0:e.filter(e=>e.symbol.toLowerCase().includes(W.toLowerCase())||e.company_name.toLowerCase().includes(W.toLowerCase())))||[];return t?(0,w.jsx)("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:(0,w.jsxs)("div",{className:"space-y-6",children:[(0,w.jsxs)("div",{className:"flex items-center justify-between",children:[(0,w.jsx)(m.E,{className:"h-8 w-48"}),(0,w.jsx)(m.E,{className:"h-10 w-32"})]}),(0,w.jsx)("div",{className:"grid md:grid-cols-4 gap-6",children:[1,2,3,4].map(e=>(0,w.jsx)(n.Zp,{children:(0,w.jsxs)(n.Wu,{className:"p-6",children:[(0,w.jsx)(m.E,{className:"h-8 w-16 mb-2"}),(0,w.jsx)(m.E,{className:"h-4 w-24"})]})},e))})]})}):(0,w.jsx)("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:(0,w.jsxs)("div",{className:"space-y-6",children:[(0,w.jsxs)("div",{className:"flex items-center justify-between",children:[(0,w.jsxs)("div",{children:[(0,w.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Watchlists"}),(0,w.jsx)("p",{className:"text-gray-600 mt-2",children:"Keep track of stocks you're interested in"})]}),(0,w.jsxs)(x.lG,{open:C,onOpenChange:S,children:[(0,w.jsx)(x.zM,{asChild:!0,children:(0,w.jsxs)(r.$,{children:[(0,w.jsx)(u.A,{className:"h-4 w-4 mr-2"}),"Add Stock"]})}),(0,w.jsxs)(x.Cf,{children:[(0,w.jsxs)(x.c7,{children:[(0,w.jsx)(x.L3,{children:"Add Stock to Watchlist"}),(0,w.jsx)(x.rr,{children:"Add a stock to your watchlist to monitor its performance"})]}),(0,w.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),R.symbol)try{const e={symbol:R.symbol.toUpperCase(),watchlist_name:R.watchlist_name,notes:R.notes,alert_price:R.alert_price?parseFloat(R.alert_price):null},s=await(0,b.dp)(e.symbol,e);s.success?(h.oR.success("".concat(R.symbol.toUpperCase()," added to watchlist")),L({symbol:"",notes:"",alert_price:"",watchlist_name:"My Watchlist"}),S(!1),z()):h.oR.error(s.message||"Failed to add to watchlist")}catch(s){h.oR.error("Failed to add stock to watchlist")}else h.oR.error("Please enter a stock symbol")},className:"space-y-4",children:[(0,w.jsxs)("div",{className:"space-y-2",children:[(0,w.jsx)(d.J,{htmlFor:"symbol",children:"Stock Symbol"}),(0,w.jsx)(i.p,{id:"symbol",placeholder:"e.g. AAPL",value:R.symbol,onChange:e=>L((0,a.A)((0,a.A)({},R),{},{symbol:e.target.value})),required:!0})]}),(0,w.jsxs)("div",{className:"space-y-2",children:[(0,w.jsx)(d.J,{htmlFor:"notes",children:"Notes (Optional)"}),(0,w.jsx)(i.p,{id:"notes",placeholder:"Why are you watching this stock?",value:R.notes,onChange:e=>L((0,a.A)((0,a.A)({},R),{},{notes:e.target.value}))})]}),(0,w.jsxs)("div",{className:"space-y-2",children:[(0,w.jsx)(d.J,{htmlFor:"alert_price",children:"Price Alert (Optional)"}),(0,w.jsx)(i.p,{id:"alert_price",type:"number",step:"0.01",placeholder:"e.g. 150.00",value:R.alert_price,onChange:e=>L((0,a.A)((0,a.A)({},R),{},{alert_price:e.target.value}))})]}),(0,w.jsxs)("div",{className:"flex gap-2",children:[(0,w.jsx)(r.$,{type:"submit",className:"flex-1",children:"Add to Watchlist"}),(0,w.jsx)(r.$,{type:"button",variant:"outline",onClick:()=>S(!1),children:"Cancel"})]})]})]})]})]}),(null===k||void 0===k?void 0:k.summary)&&(0,w.jsxs)("div",{className:"grid md:grid-cols-4 gap-6",children:[(0,w.jsx)(n.Zp,{children:(0,w.jsx)(n.Wu,{className:"p-6",children:(0,w.jsxs)("div",{className:"flex items-center justify-between",children:[(0,w.jsxs)("div",{children:[(0,w.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Items"}),(0,w.jsx)("p",{className:"text-2xl font-bold",children:k.summary.total_items})]}),(0,w.jsx)(y.A,{className:"h-8 w-8 text-blue-500"})]})})}),(0,w.jsx)(n.Zp,{children:(0,w.jsx)(n.Wu,{className:"p-6",children:(0,w.jsxs)("div",{className:"flex items-center justify-between",children:[(0,w.jsxs)("div",{children:[(0,w.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Gainers"}),(0,w.jsxs)("div",{className:"flex items-center",children:[(0,w.jsx)("p",{className:"text-2xl font-bold text-green-600",children:k.summary.gainers}),(0,w.jsx)(v.A,{className:"h-5 w-5 text-green-500 ml-2"})]})]}),(0,w.jsx)(v.A,{className:"h-8 w-8 text-green-500"})]})})}),(0,w.jsx)(n.Zp,{children:(0,w.jsx)(n.Wu,{className:"p-6",children:(0,w.jsxs)("div",{className:"flex items-center justify-between",children:[(0,w.jsxs)("div",{children:[(0,w.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Losers"}),(0,w.jsxs)("div",{className:"flex items-center",children:[(0,w.jsx)("p",{className:"text-2xl font-bold text-red-600",children:k.summary.losers}),(0,w.jsx)(g.A,{className:"h-5 w-5 text-red-500 ml-2"})]})]}),(0,w.jsx)(g.A,{className:"h-8 w-8 text-red-500"})]})})}),(0,w.jsx)(n.Zp,{children:(0,w.jsx)(n.Wu,{className:"p-6",children:(0,w.jsxs)("div",{className:"flex items-center justify-between",children:[(0,w.jsxs)("div",{children:[(0,w.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"With Alerts"}),(0,w.jsx)("p",{className:"text-2xl font-bold",children:(null===(s=k.data)||void 0===s?void 0:s.filter(e=>e.alert_price).length)||0})]}),(0,w.jsx)(p.A,{className:"h-8 w-8 text-purple-500"})]})})})]}),(0,w.jsx)(n.Zp,{children:(0,w.jsx)(n.Wu,{className:"p-6",children:(0,w.jsxs)("div",{className:"relative",children:[(0,w.jsx)(N.A,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,w.jsx)(i.p,{placeholder:"Search watchlist...",value:W,onChange:e=>F(e.target.value),className:"pl-10"})]})})}),(0,w.jsxs)(n.Zp,{children:[(0,w.jsxs)(n.aR,{children:[(0,w.jsx)(n.ZB,{children:"Your Watchlist"}),(0,w.jsxs)(n.BT,{children:["Stocks you're monitoring - ",V.length," items"]})]}),(0,w.jsx)(n.Wu,{children:V.length>0?(0,w.jsxs)("div",{className:"space-y-4",children:[(0,w.jsx)("div",{className:"hidden lg:block overflow-x-auto",children:(0,w.jsxs)("table",{className:"w-full",children:[(0,w.jsx)("thead",{children:(0,w.jsxs)("tr",{className:"border-b bg-gray-50",children:[(0,w.jsx)("th",{className:"text-left p-4 font-medium",children:"Symbol"}),(0,w.jsx)("th",{className:"text-left p-4 font-medium",children:"Company"}),(0,w.jsx)("th",{className:"text-right p-4 font-medium",children:"Price"}),(0,w.jsx)("th",{className:"text-right p-4 font-medium",children:"Change"}),(0,w.jsx)("th",{className:"text-right p-4 font-medium",children:"% Change"}),(0,w.jsx)("th",{className:"text-right p-4 font-medium",children:"Volume"}),(0,w.jsx)("th",{className:"text-left p-4 font-medium",children:"Notes"}),(0,w.jsx)("th",{className:"text-center p-4 font-medium",children:"Alert"}),(0,w.jsx)("th",{className:"text-center p-4 font-medium",children:"Actions"})]})}),(0,w.jsx)("tbody",{children:V.map(e=>{var s;return(0,w.jsxs)("tr",{className:"border-b hover:bg-gray-50",children:[(0,w.jsx)("td",{className:"p-4",children:(0,w.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,w.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,w.jsx)("span",{className:"font-bold text-blue-600 text-sm",children:e.symbol.substring(0,2)})}),(0,w.jsx)("div",{children:(0,w.jsx)(c.N_,{to:"/app/stocks/".concat(e.symbol),className:"font-semibold text-blue-600 hover:underline",children:e.symbol})})]})}),(0,w.jsx)("td",{className:"p-4",children:(0,w.jsx)("div",{className:"font-medium text-gray-900",children:e.company_name})}),(0,w.jsx)("td",{className:"p-4 text-right font-medium",children:Z(e.current_price)}),(0,w.jsxs)("td",{className:"p-4 text-right ".concat(e.price_change>=0?"text-green-600":"text-red-600"),children:[e.price_change>=0?"+":"",null===(s=e.price_change)||void 0===s?void 0:s.toFixed(2)]}),(0,w.jsx)("td",{className:"p-4 text-right font-medium ".concat(e.price_change_percent>=0?"text-green-600":"text-red-600"),children:(0,w.jsxs)("div",{className:"flex items-center justify-end",children:[e.price_change_percent>=0?(0,w.jsx)(v.A,{className:"h-3 w-3 mr-1"}):(0,w.jsx)(g.A,{className:"h-3 w-3 mr-1"}),$(e.price_change_percent)]})}),(0,w.jsx)("td",{className:"p-4 text-right text-gray-600",children:E(e.volume)}),(0,w.jsx)("td",{className:"p-4",children:(0,w.jsx)("div",{className:"text-sm text-gray-600 max-w-32 truncate",title:e.notes,children:e.notes||"-"})}),(0,w.jsx)("td",{className:"p-4 text-center",children:e.alert_price?(0,w.jsxs)(o.E,{variant:"secondary",className:"text-xs",children:[(0,w.jsx)(p.A,{className:"h-3 w-3 mr-1"}),Z(e.alert_price)]}):(0,w.jsx)("span",{className:"text-gray-400",children:"-"})}),(0,w.jsx)("td",{className:"p-4",children:(0,w.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,w.jsx)(r.$,{size:"sm",variant:"ghost",asChild:!0,title:"View Details",children:(0,w.jsx)(c.N_,{to:"/app/stocks/".concat(e.symbol),children:(0,w.jsx)(j.A,{className:"h-4 w-4"})})}),(0,w.jsx)(r.$,{size:"sm",variant:"ghost",onClick:()=>M(e.id,e.symbol),className:"text-red-600 hover:text-red-700",title:"Remove from Watchlist",children:(0,w.jsx)(f.A,{className:"h-4 w-4"})})]})})]},e.id)})})]})}),(0,w.jsx)("div",{className:"lg:hidden space-y-4",children:V.map(e=>(0,w.jsx)(n.Zp,{className:"hover:shadow-md transition-shadow",children:(0,w.jsxs)(n.Wu,{className:"p-4",children:[(0,w.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,w.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,w.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,w.jsx)("span",{className:"font-bold text-blue-600",children:e.symbol.substring(0,2)})}),(0,w.jsxs)("div",{children:[(0,w.jsx)(c.N_,{to:"/app/stocks/".concat(e.symbol),className:"font-semibold text-blue-600 hover:underline",children:e.symbol}),(0,w.jsx)("div",{className:"text-sm text-gray-600",children:e.company_name})]})]}),(0,w.jsxs)("div",{className:"text-right",children:[(0,w.jsx)("div",{className:"font-semibold text-lg",children:Z(e.current_price)}),(0,w.jsxs)("div",{className:"text-sm font-medium ".concat(e.price_change_percent>=0?"text-green-600":"text-red-600"," flex items-center justify-end"),children:[e.price_change_percent>=0?(0,w.jsx)(v.A,{className:"h-3 w-3 mr-1"}):(0,w.jsx)(g.A,{className:"h-3 w-3 mr-1"}),$(e.price_change_percent)]})]})]}),(0,w.jsxs)("div",{className:"space-y-2",children:[e.notes&&(0,w.jsxs)("div",{className:"text-sm",children:[(0,w.jsx)("span",{className:"text-gray-500",children:"Notes: "}),(0,w.jsx)("span",{className:"text-gray-700",children:e.notes})]}),e.alert_price&&(0,w.jsx)("div",{className:"text-sm",children:(0,w.jsxs)(o.E,{variant:"secondary",className:"text-xs",children:[(0,w.jsx)(p.A,{className:"h-3 w-3 mr-1"}),"Alert at ",Z(e.alert_price)]})}),(0,w.jsxs)("div",{className:"flex items-center justify-between pt-2",children:[(0,w.jsxs)("div",{className:"text-sm text-gray-600",children:["Vol: ",E(e.volume)]}),(0,w.jsxs)("div",{className:"flex space-x-2",children:[(0,w.jsx)(r.$,{size:"sm",variant:"ghost",asChild:!0,children:(0,w.jsx)(c.N_,{to:"/app/stocks/".concat(e.symbol),children:(0,w.jsx)(j.A,{className:"h-4 w-4"})})}),(0,w.jsx)(r.$,{size:"sm",variant:"ghost",onClick:()=>M(e.id,e.symbol),className:"text-red-600",children:(0,w.jsx)(f.A,{className:"h-4 w-4"})})]})]})]})]})},e.id))})]}):(0,w.jsxs)("div",{className:"text-center py-12",children:[(0,w.jsx)(y.A,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),(0,w.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:W?"No matching stocks found":"Your watchlist is empty"}),(0,w.jsx)("p",{className:"text-gray-600 mb-4",children:W?'No stocks match "'.concat(W,'". Try a different search term.'):"Add stocks to your watchlist to keep track of their performance"}),!W&&(0,w.jsxs)(r.$,{onClick:()=>S(!0),children:[(0,w.jsx)(u.A,{className:"h-4 w-4 mr-2"}),"Add Your First Stock"]})]})})]})]})})}},5391:(e,s,t)=>{t.d(s,{A:()=>a});const a=(0,t(6230).A)("trending-down",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]])},9636:(e,s,t)=>{t.d(s,{Cf:()=>f,L3:()=>v,c7:()=>g,lG:()=>j,rr:()=>b,zM:()=>u});var a=t(2555),l=t(3986),c=t(9950),r=t(4174),n=t(6479),i=t(90),d=t(4414);const o=["className"],m=["className","children"],x=["className"],h=["className"],p=["className"],j=r.bL,u=r.l9,N=r.ZL,y=(r.bm,c.forwardRef((e,s)=>{let{className:t}=e,c=(0,l.A)(e,o);return(0,d.jsx)(r.hJ,(0,a.A)({ref:s,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t)},c))}));y.displayName=r.hJ.displayName;const f=c.forwardRef((e,s)=>{let{className:t,children:c}=e,o=(0,l.A)(e,m);return(0,d.jsxs)(N,{children:[(0,d.jsx)(y,{}),(0,d.jsxs)(r.UC,(0,a.A)((0,a.A)({ref:s,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t)},o),{},{children:[c,(0,d.jsxs)(r.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,d.jsx)(n.A,{className:"h-4 w-4"}),(0,d.jsx)("span",{className:"sr-only",children:"Close"})]})]}))]})});f.displayName=r.UC.displayName;const g=e=>{let{className:s}=e,t=(0,l.A)(e,x);return(0,d.jsx)("div",(0,a.A)({className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",s)},t))};g.displayName="DialogHeader";const v=c.forwardRef((e,s)=>{let{className:t}=e,c=(0,l.A)(e,h);return(0,d.jsx)(r.hE,(0,a.A)({ref:s,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",t)},c))});v.displayName=r.hE.displayName;const b=c.forwardRef((e,s)=>{let{className:t}=e,c=(0,l.A)(e,p);return(0,d.jsx)(r.VY,(0,a.A)({ref:s,className:(0,i.cn)("text-sm text-muted-foreground",t)},c))});b.displayName=r.VY.displayName}}]);