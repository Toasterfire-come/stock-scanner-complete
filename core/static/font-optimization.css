/* Font Optimization for Stock Scanner API */
/* Optimized font loading with system font fallbacks and font-display for performance */

/* System Font Stack - Primary fallback for instant rendering */
:root {
    --font-system: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    --font-mono: 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, 'Courier New', monospace;
    --font-number: 'Helvetica Neue', Arial, sans-serif; /* Optimized for numbers */
}

/* Font-display optimization for better loading performance */
@font-face {
    font-family: 'Inter';
    src: url('fonts/Inter-Regular.woff2') format('woff2'),
         url('fonts/Inter-Regular.woff') format('woff');
    font-weight: 400;
    font-style: normal;
    font-display: swap; /* Show fallback immediately, swap when loaded */
    unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
    font-family: 'Inter';
    src: url('fonts/Inter-Medium.woff2') format('woff2'),
         url('fonts/Inter-Medium.woff') format('woff');
    font-weight: 500;
    font-style: normal;
    font-display: swap;
    unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
    font-family: 'Inter';
    src: url('fonts/Inter-SemiBold.woff2') format('woff2'),
         url('fonts/Inter-SemiBold.woff') format('woff');
    font-weight: 600;
    font-style: normal;
    font-display: swap;
    unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
    font-family: 'Inter';
    src: url('fonts/Inter-Bold.woff2') format('woff2'),
         url('fonts/Inter-Bold.woff') format('woff');
    font-weight: 700;
    font-style: normal;
    font-display: swap;
    unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

/* Optimized font stacks with fallbacks */
.font-primary {
    font-family: 'Inter', var(--font-system);
}

.font-system {
    font-family: var(--font-system);
}

.font-mono {
    font-family: var(--font-mono);
}

.font-numbers {
    font-family: var(--font-number);
    font-variant-numeric: tabular-nums; /* Better number alignment */
}

/* Prevent invisible text during font swap */
.font-loading {
    font-family: var(--font-system);
}

.font-loaded {
    font-family: 'Inter', var(--font-system);
}

/* Performance-optimized typography classes */
.text-optimize {
    /* Text rendering optimizations */
    text-rendering: optimizeSpeed; /* Prioritize speed over quality for body text */
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

.text-optimize-quality {
    /* High-quality text rendering for headings */
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

/* Critical font classes that should load immediately */
.critical-text {
    font-family: var(--font-system);
    font-display: block; /* Ensure text is always visible */
}

/* Stock price and number display optimization */
.stock-price,
.stock-number,
.metric-value {
    font-family: var(--font-number);
    font-variant-numeric: tabular-nums;
    font-feature-settings: 'tnum' 1; /* Tabular numbers for alignment */
}

/* Font loading strategy classes */
.stage-1-fonts {
    /* Critical fonts that should load immediately */
    font-family: var(--font-system);
}

.stage-2-fonts {
    /* Non-critical fonts that can load later */
    font-family: 'Inter', var(--font-system);
}

/* Reduce layout shift during font loading */
.prevent-font-shift {
    font-size: inherit;
    line-height: inherit;
    letter-spacing: inherit;
}

/* Media queries for font optimization based on connection */
@media (prefers-reduced-data: reduce) {
    /* Use system fonts only for users with data constraints */
    * {
        font-family: var(--font-system) !important;
    }
}

/* Critical CSS for above-the-fold text */
h1, h2, h3, .header, .nav {
    font-family: var(--font-system);
    text-rendering: optimizeSpeed;
}

/* Progressive enhancement for fonts */
@supports (font-display: swap) {
    .enhanced-fonts {
        font-family: 'Inter', var(--font-system);
    }
}

/* Font loading animation to indicate progress */
@keyframes fontLoad {
    0% { opacity: 0.7; }
    100% { opacity: 1; }
}

.font-loading-animation {
    animation: fontLoad 0.3s ease-in-out;
}

/* Optimize font rendering for different screen densities */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
    .text-optimize-quality {
        -webkit-font-smoothing: subpixel-antialiased;
    }
}

/* Container queries for responsive font loading */
@container (max-width: 768px) {
    .responsive-fonts {
        font-family: var(--font-system);
    }
}

@container (min-width: 769px) {
    .responsive-fonts {
        font-family: 'Inter', var(--font-system);
    }
}