{% extends 'base.html' %}
{% block title %}Pricing{% endblock %}
{% block content %}
  <div class="container-narrow">
    <div class="card">
      <div class="card-header"><div class="card-title">Choose your plan</div></div>
      <div class="card-body">
        <div class="grid" style="margin-bottom: 12px;">
          <div class="btn-group" role="group" aria-label="Billing">
            <button class="btn" id="monthlyBtn">Monthly</button>
            <button class="btn" id="annualBtn">Annual (save 20%)</button>
          </div>
        </div>
        <div class="grid cols-3">
          <div class="card">
            <div class="card-header"><div class="card-title">Starter</div><span class="badge">Free trial</span></div>
            <div class="card-body">
              <h2 class="price" data-monthly="$19/mo" data-annual="$15/mo" style="margin:0 0 8px 0;">$19/mo</h2>
              <ul class="muted" style="padding-left: 18px;">
                <li>Real-time screeners</li>
                <li>Basic indicators</li>
                <li>Email alerts (up to 5)</li>
              </ul>
              <a class="btn primary" href="/register/">Start free trial</a>
            </div>
          </div>
          <div class="card">
            <div class="card-header"><div class="card-title">Pro</div><span class="badge success">Popular</span></div>
            <div class="card-body">
              <h2 class="price" data-monthly="$39/mo" data-annual="$31/mo" style="margin:0 0 8px 0;">$39/mo</h2>
              <ul class="muted" style="padding-left: 18px;">
                <li>All Starter features</li>
                <li>Advanced screeners & presets</li>
                <li>Unlimited alerts</li>
              </ul>
              <a class="btn primary" href="/register/">Start free trial</a>
            </div>
          </div>
          <div class="card">
            <div class="card-header"><div class="card-title">Elite</div><span class="badge warn">Best value</span></div>
            <div class="card-body">
              <h2 class="price" data-monthly="$79/mo" data-annual="$63/mo" style="margin:0 0 8px 0;">$79/mo</h2>
              <ul class="muted" style="padding-left: 18px;">
                <li>All Pro features</li>
                <li>Priority data refresh</li>
                <li>Premium indicators & exports</li>
              </ul>
              <a class="btn primary" href="/register/">Start free trial</a>
            </div>
          </div>
        </div>
        <div class="hr"></div>
        <div class="muted">7‑day free trial • Cancel anytime • Secure checkout</div>
        <div class="grid" style="margin-top: 12px;">
          <div class="card">
            <div class="card-header"><div class="card-title">What our users say</div></div>
            <div class="card-body">
              <p>“The alerts helped me catch two breakouts this month already.” — Jamie L.</p>
              <p>“Best screener speed-to-signal I’ve used.” — Priya S.</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  {% block scripts %}
  <script>
    (function(){
      let annual = false;
      const prices = document.querySelectorAll('.price');
      function render(){ prices.forEach(el => { el.textContent = el.getAttribute(annual ? 'data-annual' : 'data-monthly'); }); }
      document.getElementById('monthlyBtn').addEventListener('click', ()=>{ annual = false; render(); analytics.track('pricing_toggle', { billing: 'monthly' }); });
      document.getElementById('annualBtn').addEventListener('click', ()=>{ annual = true; render(); analytics.track('pricing_toggle', { billing: 'annual' }); });
      render();
    })();
  </script>
  {% endblock %}
{% endblock %}
