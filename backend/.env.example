DJANGO_ALLOWED_HOSTS=localhost,127.0.0.1,retailtradescannet.com,api.retailtradescannet.com,tradescanpro.com,www.tradescanpro.com
CSRF_TRUSTED_ORIGINS=https://api.retailtradescannet.com,https://tradescanpro.com,https://www.tradescanpro.com

# Default DB (MySQL)
DB_ENGINE=django.db.backends.mysql
DB_HOST=db5018639265.hosting-data.io
DB_NAME=dbs14774314
DB_USER=Dbu288455
DB_PASSWORD=
DB_PORT=3306

# Stocks DB (optional second database)
DB2_ENGINE=django.db.backends.mysql
DB2_HOST=db5018639278.hosting-data.io
DB2_NAME=dbs14774321
DB2_USER=dbu2734171
DB2_PASSWORD=
DB2_PORT=3306

# Optional services
CELERY_BROKER_URL=
CELERY_RESULT_BACKEND=
EMAIL_BACKEND=
SMTP_HOST=
SMTP_USER=
SMTP_PASSWORD=
PAYPAL_CLIENT_ID=
PAYPAL_SECRET=
SENTRY_DSN=
PRIMARY_DOMAIN=api.retailtradescannet.com
# =============================================================================
# STOCK SCANNER ENVIRONMENT CONFIGURATION (NO REDIS; CELERY=RabbitMQ)
# =============================================================================
DJANGO_SETTINGS_MODULE=stockscanner_django.settings_production
DJANGO_DEBUG=False
ENVIRONMENT=production

# Hosts / Frontend
DJANGO_SECRET_KEY=((#cx+mb@f-(8x*p@9mfnanqe%ha1@6-b%w)q##v@)lanop
DJANGO_ALLOWED_HOSTS=localhost,127.0.0.1,retailtradescannet.com,api.retailtradescannet.com,tradescanpro.com,www.tradescanpro.com
FRONTEND_URL=https://tradescanpro.com
WORDPRESS_URL=https://retailtradescanner.com
CSRF_TRUSTED_ORIGINS=https://api.retailtradescannet.com,https://tradescanpro.com,https://www.tradescanpro.com
PRIMARY_ORIGIN=https://tradescanpro.com

# Database (MySQL)
DB_ENGINE=django.db.backends.mysql
DB_NAME=stockscanner
DB_USER=root
DB_PASSWORD=
DB_HOST=localhost
DB_PORT=3306
CONN_MAX_AGE=60

# Cache (choose one: locmem | db | file). No Redis used.
CACHE_BACKEND=locmem
# If db: CACHE_TABLE=django_cache   (run: python manage.py createcachetable)
# If file: CACHE_DIR=/var/www/cache/stockscanner

# Celery (RabbitMQ). To disable Celery: set CELERY_ENABLED=false
CELERY_ENABLED=true
CELERY_BROKER_URL=amqp://guest:guest@localhost:5672//
CELERY_RESULT_BACKEND=rpc://
CELERY_TASK_TIME_LIMIT=600
CELERY_WORKER_CONCURRENCY=2

# PayPal (live)
PAYPAL_MODE=live
PAYPAL_ENV=live
PAYPAL_CLIENT_ID=AQLxJ2PTOCLuWEzPWRKF3GP-DMl1jbmLMsjk-xu8FqtqJsaXjO36uVX9wOefiewqWzC7_jXkbDyDw2SK
PAYPAL_CLIENT_SECRET=EBz7lzVK6akwzzRLbmNEPdWbUVA19ihnW194xHOR--dE7EJY7NQo1kMo7JMztwrwNpMGd8CA9LrH68UJ
PAYPAL_SECRET=EBz7lzVK6akwzzRLbmNEPdWbUVA19ihnW194xHOR--dE7EJY7NQo1kMo7JMztwrwNpMGd8CA9LrH68UJ
PAYPAL_WEBHOOK_URL=https://retailtradescanner.com/wp-json/stock-scanner/v1/paypal-webhook
PAYPAL_RETURN_URL=https://retailtradescanner.com/membership-success/
PAYPAL_CANCEL_URL=https://retailtradescanner.com/membership-cancel/
PAYPAL_IPN_VERIFY=True

# Pricing (updated)
BRONZE_MONTHLY_PRICE=24.99
BRONZE_ANNUAL_PRICE=254.99
SILVER_MONTHLY_PRICE=49.99
SILVER_ANNUAL_PRICE=509.99
GOLD_MONTHLY_PRICE=79.99
GOLD_ANNUAL_PRICE=814.99
FREE_TRIAL_DAYS=7
TRIAL_ENABLED=True

# Email (SMTP)
EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_USE_SSL=False
EMAIL_HOST_USER=noreply.retailtradescanner@gmail.com
EMAIL_HOST_PASSWORD=mzqmvhsjqeqrjmjv
DEFAULT_FROM_EMAIL=Stock Scanner <noreply.retailtradescanner@gmail.com>
SERVER_EMAIL=Stock Scanner Server <noreply.retailtradescanner@gmail.com>
ADMIN_EMAIL=admin@retailtradescanner.com

# API/data
YFINANCE_RATE_LIMIT=0.25
YFINANCE_TIMEOUT=15
YFINANCE_RETRIES=3
FINNHUB_API_KEYS=
ALPHA_VANTAGE_API_KEY=

# Proxies
USE_PROXIES=True
PROXY_FILE=working_proxies.json
PROXY_TIMEOUT=10
PROXY_ROTATION_ENABLED=True

# Market hours (regular only)
MARKET_OPEN=09:30
MARKET_CLOSE=16:00
SCAN_ENABLED=True
SCAN_PREMARKET=False
SCAN_POSTMARKET=False
STOCK_RETRIEVAL_INTERVAL=3
NEWS_SCRAPER_INTERVAL=5
EMAIL_SENDER_INTERVAL=5

# Security / throttling
LOG_FORMAT=default
LOG_LEVEL=INFO
SESSION_COOKIE_SECURE=True
SESSION_COOKIE_HTTPONLY=True
SESSION_COOKIE_SAMESITE=None
CSRF_COOKIE_SECURE=True
CSRF_COOKIE_HTTPONLY=True
CSRF_COOKIE_SAMESITE=None
SECURE_SSL_REDIRECT=True
SECURE_HSTS_SECONDS=31536000
SECURE_HSTS_INCLUDE_SUBDOMAINS=True
SECURE_HSTS_PRELOAD=True
SECURE_CONTENT_TYPE_NOSNIFF=True
X_FRAME_OPTIONS=DENY
RATE_LIMIT_FREE_USERS=100
RATE_LIMIT_AUTHENTICATED_USERS=1000
RATE_LIMIT_WINDOW=3600

# Observability (optional)
SENTRY_DSN=
SENTRY_TRACES_SAMPLE_RATE=0
# =============================================================================
# STOCK SCANNER â€“ PRODUCTION ENV (EXAMPLE)
# =============================================================================
# Copy to .env and replace placeholder values. This example is aligned with:
# - Cloudflare Tunnel exposing https://api.tradescanpro.com -> http://127.0.0.1:8000
# - Frontend on https://tradescanpro.com consuming the API cross-site

# =============================================================================
# DJANGO CORE
# =============================================================================
DJANGO_SETTINGS_MODULE=stockscanner_django.settings_production
DJANGO_DEBUG=false
DJANGO_SECRET_KEY=REPLACE_WITH_STRONG_RANDOM
DJANGO_ALLOWED_HOSTS=api.tradescanpro.com,api.retailtradescanner.com,tradescanpro.com,www.tradescanpro.com

# CSRF/CORS (must include both API and frontend origins)
CSRF_TRUSTED_ORIGINS=https://api.tradescanpro.com,https://api.retailtradescanner.com,https://tradescanpro.com,https://www.tradescanpro.com
FRONTEND_URL=https://tradescanpro.com
WORDPRESS_URL=https://retailtradescannet.com
PRIMARY_ORIGIN=https://tradescanpro.com

# Cookies (required for cross-site auth with separate API domain)
SESSION_COOKIE_SAMESITE=None
CSRF_COOKIE_SAMESITE=None
SESSION_COOKIE_SECURE=true
CSRF_COOKIE_SECURE=true

# =============================================================================
# DATABASE
# =============================================================================
DB_ENGINE=django.db.backends.mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_NAME=stockscanner
DB_USER=REPLACE_DB_USER
DB_PASSWORD=REPLACE_DB_PASSWORD
CONN_MAX_AGE=60

# =============================================================================
# CACHE / SESSIONS (Redis recommended in production)
# =============================================================================
# REDIS_URL removed - using LocMem cache instead
# USE_REDIS_SESSIONS removed - using DB sessions instead

# =============================================================================
# LOGGING / OBSERVABILITY
# =============================================================================
ENVIRONMENT=production
LOG_LEVEL=INFO
LOG_FORMAT=json
SENTRY_DSN=
SENTRY_TRACES_SAMPLE_RATE=0

# =============================================================================
# RATE LIMITS & THROTTLING
# =============================================================================
# Hourly middleware limits (free vs authenticated)
RATE_LIMIT_FREE_USERS=100
RATE_LIMIT_AUTHENTICATED_USERS=1000
RATE_LIMIT_WINDOW=3600

# DRF throttles
THROTTLE_RATE_ANON=200/hour
THROTTLE_RATE_USER=2000/hour
THROTTLE_RATE_LOGGING=60/min

# =============================================================================
# PAYPAL (LIVE)
# =============================================================================
PAYPAL_ENV=live
PAYPAL_CLIENT_ID=REPLACE_WITH_PRODUCTION_CLIENT_ID
PAYPAL_SECRET=REPLACE_WITH_PRODUCTION_SECRET
PAYPAL_WEBHOOK_URL=https://retailtradescanner.com/wp-json/stock-scanner/v1/paypal-webhook
PAYPAL_WEBHOOK_ID=

# =============================================================================
# STOCK & EXTERNAL APIS
# =============================================================================
YFINANCE_RATE_LIMIT=0.25
YFINANCE_TIMEOUT=15
YFINANCE_RETRIES=3
FINNHUB_API_KEYS=

# =============================================================================
# CLOUDFLARE TUNNEL (REFERENCE ONLY)
# =============================================================================
# cloudflared serves api.tradescanpro.com -> http://127.0.0.1:8000
# Ensure Django runs on 127.0.0.1:8000 and the tunnel is started (quic protocol ok)

# =============================================================================
# FEATURE FLAGS
# =============================================================================
FEATURE_MARKET_HOURS_MANAGER=true
FEATURE_EMAIL_NOTIFICATIONS=true
FEATURE_NEWS_SCRAPING=true
FEATURE_PAYPAL_INTEGRATION=true

# =============================================================================
# STOCK SCANNER ENVIRONMENT CONFIGURATION
# =============================================================================
# Copy this file to .env and update with your actual values
# Last updated: December 2024 for Market Hours Manager and enhanced components

# =============================================================================
# DJANGO CORE SETTINGS
# =============================================================================
DJANGO_SETTINGS_MODULE=stockscanner_django.settings
DJANGO_SECRET_KEY=your-super-secret-django-key-change-this-in-production-minimum-50-characters
DJANGO_DEBUG=False
DJANGO_ALLOWED_HOSTS=localhost,127.0.0.1,retailtradescanner.com,api.retailtradescanner.com,api.tradescanpro.com

# Alternative secret key generation:
# python -c 'from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())'

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# Current Database (XAMPP Development)
DB_ENGINE=django.db.backends.mysql
DB_NAME=stockscanner
DB_USER=root
DB_PASSWORD=
DB_HOST=localhost
DB_PORT=3306

# Alternative database URL format (optional)
# DATABASE_URL=mysql://root:@localhost:3306/stockscanner

# Production Database (for future deployment)
# DB_USER=stockscanner_user
# DB_PASSWORD=StockScanner2024!SecurePassword
# DATABASE_URL=mysql://stockscanner_user:StockScanner2024!SecurePassword@localhost:3306/stockscanner

# =============================================================================
# SITE CONFIGURATION
# =============================================================================
SITE_URL=https://retailtradescanner.com
SITE_DOMAIN=retailtradescanner.com
API_BASE_URL=https://api.tradescanpro.com

# CORS Origins (comma-separated)
CORS_ALLOWED_ORIGINS=https://retailtradescanner.com,https://api.retailtradescanner.com,https://api.tradescanpro.com

# =============================================================================
# PAYPAL CONFIGURATION (PRODUCTION SETTINGS)
# =============================================================================
# PayPal Environment (sandbox or live)
PAYPAL_MODE=live

# PayPal API Credentials (REPLACE WITH YOUR ACTUAL CREDENTIALS)
PAYPAL_CLIENT_ID=AQLxJ2PTOCLuWEzPWRKF3GP-DMl1jbmLMsjk-xu8FqtqJsaXjO36uVX9wOefiewqWzC7_jXkbDyDw2SK
PAYPAL_CLIENT_SECRET=EBz7lzVK6akwzzRLbmNEPdWbUVA19ihnW194xHOR--dE7EJY7NQo1kMo7JMztwrwNpMGd8CA9LrH68UJ

# PayPal URLs
PAYPAL_WEBHOOK_URL=https://retailtradescanner.com/wp-json/stock-scanner/v1/paypal-webhook
PAYPAL_RETURN_URL=https://retailtradescanner.com/membership-success/
PAYPAL_CANCEL_URL=https://retailtradescanner.com/membership-cancel/

# PayPal Security
PAYPAL_IPN_VERIFY=True

# =============================================================================
# MEMBERSHIP PLANS & PRICING (Updated December 2024)
# =============================================================================
# Bronze Plan - Entry Level
BRONZE_MONTHLY_PRICE=24.99
BRONZE_ANNUAL_PRICE=269.89

# Silver Plan - Professional
SILVER_MONTHLY_PRICE=49.99
SILVER_ANNUAL_PRICE=539.89

# Gold Plan - Premium
GOLD_MONTHLY_PRICE=99.99
GOLD_ANNUAL_PRICE=1079.89

# Trial Settings
FREE_TRIAL_DAYS=7
TRIAL_ENABLED=True

# =============================================================================
# EMAIL CONFIGURATION
# =============================================================================
# Email Backend
EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend

# SMTP Settings (Gmail example)
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_USE_SSL=False
EMAIL_HOST_USER=noreply.retailtradescanner@gmail.com
EMAIL_HOST_PASSWORD=your-app-specific-password-here

# Email Addresses
DEFAULT_FROM_EMAIL=Stock Scanner <noreply.retailtradescanner@gmail.com>
SERVER_EMAIL=Stock Scanner Server <noreply.retailtradescanner@gmail.com>
ADMIN_EMAIL=admin@retailtradescanner.com

# Email Rate Limiting
EMAIL_RATE_LIMIT_PER_HOUR=250
EMAIL_RATE_LIMIT_PER_DAY=500
EMAIL_DELAY_BETWEEN=1

# =============================================================================
# STOCK API CONFIGURATION
# =============================================================================
# Yahoo Finance Settings
YFINANCE_RATE_LIMIT=0.5
YFINANCE_TIMEOUT=15
YFINANCE_RETRIES=3

# Alternative API Keys (optional)
FINNHUB_API_KEYS=your_finnhub_key_1,your_finnhub_key_2
ALPHA_VANTAGE_API_KEY=your_alpha_vantage_key

# =============================================================================
# PROXY CONFIGURATION
# =============================================================================
USE_PROXIES=True
PROXY_FILE=working_proxies.json
PROXY_TIMEOUT=10
PROXY_ROTATION_ENABLED=True

# =============================================================================
# MARKET HOURS MANAGER SETTINGS
# =============================================================================
# Market Hours (Eastern Time)
MARKET_PREMARKET_START=04:00
MARKET_OPEN=09:30
MARKET_CLOSE=16:00
MARKET_POSTMARKET_END=20:00

# Component Intervals (minutes)
STOCK_RETRIEVAL_INTERVAL=3
NEWS_SCRAPER_INTERVAL=5
EMAIL_SENDER_INTERVAL=10

# Market Hours Manager Settings
MARKET_HOURS_LOG_LEVEL=INFO
MARKET_HOURS_CHECK_INTERVAL=60
MARKET_HOURS_ENABLED=True

# Weekend Trading (usually False)
WEEKEND_TRADING_ENABLED=False

# =============================================================================
# STOCK SCANNER SETTINGS
# =============================================================================
DEFAULT_THREADS=15
DEFAULT_TIMEOUT=8
CSV_FILE=flat-ui__data-Fri Aug 01 2025.csv
MAX_SYMBOLS_PER_RUN=5000

# Scanning Settings
SCAN_ENABLED=True
SCAN_PREMARKET=True
SCAN_POSTMARKET=True
SCAN_REGULAR_HOURS=True

# =============================================================================
# CELERY CONFIGURATION (Task Queue)
# =============================================================================
CELERY_ENABLED=True
# CELERY_BROKER_URL=redis://localhost:6379/0 - commented out, use database broker instead
# CELERY_RESULT_BACKEND=redis://localhost:6379/0 - commented out, use database backend instead
CELERY_ACCEPT_CONTENT=json
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json
CELERY_TIMEZONE=America/New_York

# Celery Beat (Scheduled Tasks)
CELERY_BEAT_SCHEDULER=django_celery_beat.schedulers:DatabaseScheduler

# =============================================================================
# CACHE CONFIGURATION
# =============================================================================
# Cache Backend (Redis recommended for production)
CACHE_BACKEND=locmem
CACHE_LOCATION=stock-scanner-cache
CACHE_TIMEOUT=3600
CACHE_MAX_ENTRIES=10000

# Alternative: Local Memory Cache (for development)
# CACHE_BACKEND=django.core.cache.backends.locmem.LocMemCache
# CACHE_LOCATION=stock-scanner-cache

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
LOG_LEVEL=INFO
LOG_FILE=stock_scanner.log
PAYMENT_LOG_FILE=paypal_payments.log
ERROR_LOG_FILE=errors.log
DEBUG_LOG_FILE=debug.log

# Component Log Files
STOCK_RETRIEVAL_LOG_FILE=enhanced_stock_retrieval_working.log
NEWS_SCRAPER_LOG_FILE=news_scraper_with_restart.log
EMAIL_SENDER_LOG_FILE=email_sender_with_restart.log
MARKET_HOURS_LOG_FILE=market_hours_manager.log

# Log Rotation
LOG_MAX_SIZE=50MB
LOG_BACKUP_COUNT=5

# =============================================================================
# SECURITY SETTINGS
# =============================================================================
# Rate Limiting
MAX_REQUESTS_PER_MINUTE=60
MAX_REQUESTS_PER_HOUR=1000
MAX_REQUESTS_PER_DAY=10000

# Security Headers
SECURE_SSL_REDIRECT=True
SECURE_HSTS_SECONDS=31536000
SECURE_HSTS_INCLUDE_SUBDOMAINS=True
SECURE_HSTS_PRELOAD=True
SECURE_CONTENT_TYPE_NOSNIFF=True
SECURE_BROWSER_XSS_FILTER=True
X_FRAME_OPTIONS=DENY

# Session Security
SESSION_COOKIE_SECURE=True
SESSION_COOKIE_HTTPONLY=True
SESSION_COOKIE_SAMESITE=Strict
CSRF_COOKIE_SECURE=True
CSRF_COOKIE_HTTPONLY=True

# =============================================================================
# API CONFIGURATION
# =============================================================================
# REST Framework
API_RATE_LIMIT=1000/hour
API_THROTTLE_ANON=100/hour
API_THROTTLE_USER=1000/hour

# API Keys (if using internal API authentication)
API_KEY=your-internal-api-key-here
API_SECRET=your-internal-api-secret-here

# =============================================================================
# MONITORING & ANALYTICS
# =============================================================================
# Performance Monitoring
MONITORING_ENABLED=True
PERFORMANCE_TRACKING=True
ERROR_TRACKING=True

# Health Check
HEALTH_CHECK_ENABLED=True
HEALTH_CHECK_URL=/health/

# Metrics
METRICS_ENABLED=True
METRICS_ENDPOINT=/metrics/

# =============================================================================
# BACKUP CONFIGURATION
# =============================================================================
BACKUP_ENABLED=True
BACKUP_SCHEDULE=daily
BACKUP_RETENTION_DAYS=30
BACKUP_STORAGE_PATH=/var/backups/stockscanner

# Database Backup
DB_BACKUP_ENABLED=True
DB_BACKUP_COMPRESSION=True

# =============================================================================
# DEVELOPMENT SETTINGS (REMOVE IN PRODUCTION)
# =============================================================================
# Set to False in production
DJANGO_DEBUG=False
DEBUG_TOOLBAR_ENABLED=False

# Development Database (XAMPP)
# DB_USER=root
# DB_PASSWORD=
# DEV_MODE=True

# =============================================================================
# ENVIRONMENT INDICATORS
# =============================================================================
ENVIRONMENT=production
# Options: development, staging, production

# Feature Flags
FEATURE_MARKET_HOURS_MANAGER=True
FEATURE_RESTART_COMPONENTS=True
FEATURE_EMAIL_NOTIFICATIONS=True
FEATURE_NEWS_SCRAPING=True
FEATURE_PAYPAL_INTEGRATION=True

# =============================================================================
# EXTERNAL INTEGRATIONS
# =============================================================================
# WordPress Integration
WORDPRESS_ENABLED=True
WORDPRESS_API_URL=https://retailtradescanner.com/wp-json
WORDPRESS_API_KEY=your-wordpress-api-key

# Third-party Services
CLOUDFLARE_ENABLED=True
CLOUDFLARE_ZONE_ID=your-cloudflare-zone-id
CLOUDFLARE_API_TOKEN=your-cloudflare-api-token

# =============================================================================
# DEPLOYMENT SETTINGS
# =============================================================================
# Server Configuration
SERVER_NAME=retailtradescanner.com
SERVER_PORT=8000
WORKERS=4
TIMEOUT=120

# SSL Configuration
SSL_ENABLED=True
SSL_CERT_PATH=/path/to/ssl/cert.pem
SSL_KEY_PATH=/path/to/ssl/key.pem

# =============================================================================
# NOTES FOR SETUP
# =============================================================================
# 1. Generate a new Django secret key:
#    python -c 'from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())'
#
# 2. Update PayPal credentials with your actual production keys
#
# 3. Configure email settings with your SMTP provider
#
# 4. Set up Redis for caching and Celery (recommended for production)
#
# 5. Update all URLs to match your domain
#
# 6. Review security settings for production deployment
#
# 7. Set appropriate file permissions (600) for this .env file
#
# 8. Never commit this file to version control with real credentials
# Celery Configuration (database-based, no Redis required)
CELERY_ENABLED=false
CELERY_BROKER_URL=db+sqlite:///celery.db
CELERY_RESULT_BACKEND=db+sqlite:///celery_results.db
