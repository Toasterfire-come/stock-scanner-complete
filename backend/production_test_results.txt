INFO: PyMySQL configured as MySQLdb replacement
DEBUG MODE: False (raw value: False)
SECURE_SSL_REDIRECT = True
================================================================================
PRODUCTION LOAD TESTING SUITE
================================================================================
Start time: 2025-12-22 20:44:43

Configuration:
  Daily Scanner: 0.25 t/s, 20 threads (rate limit safety)
  10-Min Scanner: >1.5 t/s, 20 threads (fast updates)

Test Plan:
  1. Daily Scanner - 1000 tickers
  2. Daily Scanner - 2000 tickers
  3. 10-Min Scanner - 1000 tickers
  4. 10-Min Scanner - 2000 tickers
================================================================================

================================================================================
                   DAILY SCANNER - 1000 Tickers - 20 Threads                    
================================================================================
Test Configuration:
  Tickers: 1000
  Threads: 20
  Target Rate: 0.25 t/s (rate limit safe)
  Started: 20:44:45

Loaded 1000 tickers

Processing 1000 tickers with 20 threads...

  Progress: 200/1000 (20.0%) | Success: 198 | Failed: 2 | Rate: 65.20 t/s | ETA: 12s
  Progress: 400/1000 (40.0%) | Success: 395 | Failed: 5 | Rate: 71.00 t/s | ETA: 8s
[2025-12-22 20:44:52,003] ERROR yfinance: HTTP Error 404: {"quoteSummary":{"result":null,"error":{"code":"Not Found","description":"Quote not found for symbol: AVDX"}}}
[2025-12-22 20:44:54,027] ERROR yfinance: HTTP Error 404: {"quoteSummary":{"result":null,"error":{"code":"Not Found","description":"Quote not found for symbol: BGFV"}}}
  Progress: 600/1000 (60.0%) | Success: 593 | Failed: 7 | Rate: 71.87 t/s | ETA: 6s
[2025-12-22 20:44:55,917] ERROR yfinance: HTTP Error 404: {"quoteSummary":{"result":null,"error":{"code":"Not Found","description":"Quote not found for symbol: BOWNR"}}}
[2025-12-22 20:44:56,346] ERROR yfinance: HTTP Error 404: {"quoteSummary":{"result":null,"error":{"code":"Not Found","description":"Quote not found for symbol: BRDG"}}}
[2025-12-22 20:44:56,355] ERROR yfinance: HTTP Error 404: {"quoteSummary":{"result":null,"error":{"code":"Not Found","description":"Quote not found for symbol: BRFS"}}}
[2025-12-22 20:44:56,474] ERROR yfinance: HTTP Error 404: {"quoteSummary":{"result":null,"error":{"code":"Not Found","description":"Quote not found for symbol: BRKL"}}}
  Progress: 800/1000 (80.0%) | Success: 779 | Failed: 21 | Rate: 72.51 t/s | ETA: 3s
  Progress: 1000/1000 (100.0%) | Success: 779 | Failed: 221 | Rate: 82.88 t/s | ETA: 0s

Updating database...
  Database updated: 779 stocks in 2.2s

================================================================================
TEST RESULTS
================================================================================
Total tickers: 1000
Successful: 779 (77.9%)
Failed: 221
DB Updated: 779
DB Failed: 0
Total time: 12.1s (0.2 minutes)
Actual rate: 82.876 tickers/second
Target rate: 0.250 tickers/second

TARGET ANALYSIS:
--------------------------------------------------------------------------------
[FAIL] Success rate: 77.9% < 95%
[WARN] Rate: 82.876 t/s > 0.250 t/s (too fast, may hit rate limits)
[OK] All successful fetches updated in database
================================================================================

================================================================================
                   DAILY SCANNER - 2000 Tickers - 20 Threads                    
================================================================================
Test Configuration:
  Tickers: 2000
  Threads: 20
  Target Rate: 0.25 t/s (rate limit safe)
  Started: 20:45:00

Loaded 2000 tickers

Processing 2000 tickers with 20 threads...

  Progress: 200/2000 (10.0%) | Success: 0 | Failed: 200 | Rate: 122.37 t/s | ETA: 15s
  Progress: 400/2000 (20.0%) | Success: 0 | Failed: 400 | Rate: 129.42 t/s | ETA: 12s
[2025-12-22 20:45:03,632] ERROR yfinance: HTTP Error 401: {"finance":{"result":null,"error":{"code":"Unauthorized","description":"Invalid Crumb"}}}
[2025-12-22 20:45:03,667] ERROR yfinance: HTTP Error 401: {"finance":{"result":null,"error":{"code":"Unauthorized","description":"Invalid Crumb"}}}
  Progress: 600/2000 (30.0%) | Success: 0 | Failed: 600 | Rate: 139.26 t/s | ETA: 10s
  Progress: 800/2000 (40.0%) | Success: 0 | Failed: 800 | Rate: 150.11 t/s | ETA: 8s
[2025-12-22 20:45:06,688] ERROR yfinance: HTTP Error 401: {"finance":{"result":null,"error":{"code":"Unauthorized","description":"Invalid Crumb"}}}
  Progress: 1000/2000 (50.0%) | Success: 0 | Failed: 1000 | Rate: 154.19 t/s | ETA: 6s
  Progress: 1200/2000 (60.0%) | Success: 0 | Failed: 1200 | Rate: 158.61 t/s | ETA: 5s
  Progress: 1400/2000 (70.0%) | Success: 0 | Failed: 1400 | Rate: 163.00 t/s | ETA: 4s
  Progress: 1600/2000 (80.0%) | Success: 0 | Failed: 1600 | Rate: 166.31 t/s | ETA: 2s
  Progress: 1800/2000 (90.0%) | Success: 0 | Failed: 1800 | Rate: 168.80 t/s | ETA: 1s
  Progress: 2000/2000 (100.0%) | Success: 0 | Failed: 2000 | Rate: 170.65 t/s | ETA: 0s

================================================================================
TEST RESULTS
================================================================================
Total tickers: 2000
Successful: 0 (0.0%)
Failed: 2000
DB Updated: 0
DB Failed: 0
Total time: 11.7s (0.2 minutes)
Actual rate: 170.334 tickers/second
Target rate: 0.250 tickers/second

TARGET ANALYSIS:
--------------------------------------------------------------------------------
[FAIL] Success rate: 0.0% < 95%
[WARN] Rate: 170.334 t/s > 0.250 t/s (too fast, may hit rate limits)
[OK] All successful fetches updated in database
================================================================================

================================================================================
                 10-MINUTE SCANNER - 1000 Tickers - 20 Threads                  
================================================================================
Test Configuration:
  Tickers: 1000
  Threads: 20
  Target Rate: >1.5 t/s (minimum for 10-min window)
  Started: 20:45:12

Loaded 1000 tickers

Processing 1000 tickers with 20 threads...

  Progress: 200/1000 (20.0%) | Success: 0 | Failed: 200 | Rate: 114.68 t/s | ETA: 7s
[2025-12-22 20:45:14,079] ERROR yfinance: HTTP Error 401: {"finance":{"result":null,"error":{"code":"Unauthorized","description":"Invalid Crumb"}}}
[2025-12-22 20:45:14,080] ERROR yfinance: HTTP Error 401: {"finance":{"result":null,"error":{"code":"Unauthorized","description":"Invalid Crumb"}}}
[2025-12-22 20:45:14,367] ERROR yfinance: HTTP Error 401: {"finance":{"result":null,"error":{"code":"Unauthorized","description":"Invalid Crumb"}}}
[2025-12-22 20:45:14,382] ERROR yfinance: HTTP Error 401: {"finance":{"result":null,"error":{"code":"Unauthorized","description":"Invalid Crumb"}}}
  Progress: 400/1000 (40.0%) | Success: 0 | Failed: 400 | Rate: 123.72 t/s | ETA: 5s
  Progress: 600/1000 (60.0%) | Success: 0 | Failed: 600 | Rate: 139.54 t/s | ETA: 3s
  Progress: 800/1000 (80.0%) | Success: 0 | Failed: 800 | Rate: 145.30 t/s | ETA: 1s
  Progress: 1000/1000 (100.0%) | Success: 0 | Failed: 1000 | Rate: 151.28 t/s | ETA: 0s

================================================================================
TEST RESULTS
================================================================================
Total tickers: 1000
Successful: 0 (0.0%)
Failed: 1000
DB Updated: 0
DB Failed: 0
Total time: 6.6s (0.1 minutes)
Actual rate: 150.940 tickers/second
Target rate: 1.500 tickers/second

TARGET ANALYSIS:
--------------------------------------------------------------------------------
[FAIL] Success rate: 0.0% < 95%
[WARN] Rate: 150.940 t/s > 1.500 t/s (too fast, may hit rate limits)
[OK] All successful fetches updated in database
================================================================================

================================================================================
                 10-MINUTE SCANNER - 2000 Tickers - 20 Threads                  
================================================================================
Test Configuration:
  Tickers: 2000
  Threads: 20
  Target Rate: >1.5 t/s (minimum for 10-min window)
  Started: 20:45:18

Loaded 2000 tickers

Processing 2000 tickers with 20 threads...

  Progress: 200/2000 (10.0%) | Success: 0 | Failed: 200 | Rate: 113.68 t/s | ETA: 16s
  Progress: 400/2000 (20.0%) | Success: 0 | Failed: 400 | Rate: 131.37 t/s | ETA: 12s
[2025-12-22 20:45:22,746] ERROR yfinance: HTTP Error 401: {"finance":{"result":null,"error":{"code":"Unauthorized","description":"Invalid Crumb"}}}
  Progress: 600/2000 (30.0%) | Success: 0 | Failed: 600 | Rate: 144.51 t/s | ETA: 10s
[2025-12-22 20:45:22,908] ERROR yfinance: HTTP Error 401: {"finance":{"result":null,"error":{"code":"Unauthorized","description":"User is unable to access this feature - https://bit.ly/yahoo-finance-api-feedback"}}}
  Progress: 800/2000 (40.0%) | Success: 0 | Failed: 800 | Rate: 148.61 t/s | ETA: 8s
  Progress: 1000/2000 (50.0%) | Success: 0 | Failed: 1000 | Rate: 155.99 t/s | ETA: 6s
  Progress: 1200/2000 (60.0%) | Success: 0 | Failed: 1200 | Rate: 159.96 t/s | ETA: 5s
[2025-12-22 20:45:26,417] ERROR yfinance: HTTP Error 401: {"finance":{"result":null,"error":{"code":"Unauthorized","description":"Invalid Crumb"}}}
[2025-12-22 20:45:27,117] ERROR yfinance: HTTP Error 401: {"finance":{"result":null,"error":{"code":"Unauthorized","description":"Invalid Crumb"}}}
  Progress: 1400/2000 (70.0%) | Success: 0 | Failed: 1400 | Rate: 160.11 t/s | ETA: 4s
  Progress: 1600/2000 (80.0%) | Success: 0 | Failed: 1600 | Rate: 162.74 t/s | ETA: 2s
[2025-12-22 20:45:29,080] ERROR yfinance: HTTP Error 401: {"finance":{"result":null,"error":{"code":"Unauthorized","description":"Invalid Crumb"}}}
[2025-12-22 20:45:29,328] ERROR yfinance: HTTP Error 401: {"finance":{"result":null,"error":{"code":"Unauthorized","description":"Invalid Crumb"}}}
[2025-12-22 20:45:29,482] ERROR yfinance: HTTP Error 401: {"finance":{"result":null,"error":{"code":"Unauthorized","description":"Invalid Crumb"}}}
  Progress: 1800/2000 (90.0%) | Success: 0 | Failed: 1800 | Rate: 157.69 t/s | ETA: 1s
  Progress: 2000/2000 (100.0%) | Success: 0 | Failed: 2000 | Rate: 160.06 t/s | ETA: 0s

================================================================================
TEST RESULTS
================================================================================
Total tickers: 2000
Successful: 0 (0.0%)
Failed: 2000
DB Updated: 0
DB Failed: 0
Total time: 12.5s (0.2 minutes)
Actual rate: 159.866 tickers/second
Target rate: 1.500 tickers/second

TARGET ANALYSIS:
--------------------------------------------------------------------------------
[FAIL] Success rate: 0.0% < 95%
[WARN] Rate: 159.866 t/s > 1.500 t/s (too fast, may hit rate limits)
[OK] All successful fetches updated in database
================================================================================

================================================================================
                           FINAL SUMMARY - ALL TESTS                            
================================================================================

Daily Scanner (Target: 0.25 t/s, 20 threads):
--------------------------------------------------------------------------------
1000 tickers: 779/1000 (77.9%) | Rate: 82.876 t/s | Time: 12.1s
2000 tickers: 0/2000 (0.0%) | Rate: 170.334 t/s | Time: 11.7s

10-Minute Scanner (Target: >1.5 t/s, 20 threads):
--------------------------------------------------------------------------------
1000 tickers: 0/1000 (0.0%) | Rate: 150.940 t/s | Time: 6.6s
2000 tickers: 0/2000 (0.0%) | Rate: 159.866 t/s | Time: 12.5s

================================================================================
PRODUCTION READINESS:
================================================================================
[FAIL] Daily Scanner: <95% success rate
[WARN] Daily Scanner: May hit rate limits (>0.30 t/s)
[FAIL] 10-Min Scanner: <95% success rate
[OK] 10-Min Scanner: Fast enough (>=1.5 t/s)

[FAIL] Some scanners need fixes
================================================================================
Testing completed: 2025-12-22 20:45:31
================================================================================
